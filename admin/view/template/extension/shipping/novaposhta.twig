{{ header }}{{ column_left }}
<div id="content">
	<div class="page-header">
		<div class="container-fluid">
			<div class="row">
				<ul class="breadcrumb">
					{% for breadcrumb in breadcrumbs %}
						<li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
                    {% endfor %}
				</ul>
			</div>
			<h1><i class="fa fa-truck"></i> {{ heading_title }} v. {{ v }}</h1>
			<div class="pull-right">
				<div class="btn-group">
					<button type="button" onclick="save();" data-toggle="tooltip" title="{{ button_save }}" class="btn btn-primary"><i class="fa fa-save"></i></button>
					<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<span class="caret"></span>
						<span class="sr-only"></span>
					</button>
					<ul class="dropdown-menu dropdown-menu-right">
						<li><a onclick="save('exit');" style="cursor: pointer;"><i class="fa fa-sign-out fa-fw" aria-hidden="true"></i> {{ button_save_and_exit }}</a></li>
						<li><a onclick="settings('basic');" style="cursor: pointer;"><i class="fa fa-cloud-download fa-fw" aria-hidden="true"></i> {{ button_download_basic_settings }}</a></li>
						<li><a onclick="settings('import');" style="cursor: pointer;"><i class="fa fa-download fa-fw" aria-hidden="true"></i> {{ button_import_settings }}</a></li>
						<li><a onclick="settings('export');" style="cursor: pointer;"><i class="fa fa-upload fa-fw" aria-hidden="true"></i> {{ button_export_settings }}</a></li>
					</ul>
				</div>
				<a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-danger" role="button"><i class="fa fa-reply"></i></a>
			</div>
		</div>
	</div>
 	<div class="container-fluid">
        {% if success %}
			<div class="alert alert-success">
    			<i class="fa fa-check-circle"></i> {{ success }}<button type="button" class="close" data-dismiss="alert">&times;</button>
    		</div>
        {% endif %}
        {% if error_warning %}
			<div class="alert alert-danger">
				<i class="fa fa-exclamation-circle"></i> {{ error_warning }}<button type="button" class="close" data-dismiss="alert">&times;</button>
			</div>
        {% endif %}
    	<div class="panel panel-default">
      		<div class="panel-heading">
        		<h3 class="panel-title"><i class="fa fa-cog" aria-hidden="true"></i> {{ text_settings }}</h3>
				<select name="store_id" id="input-store_id" onchange="location.href = 'index.php?route=extension/shipping/novaposhta&user_token={{ user_token }}&store_id=' + this.value;" class="form-control" style="display: inline; width: auto;">
                    {% for store in stores %}
						<option value="{{ store.store_id }}"{{ store.store_id == store_id ? ' selected="selected"' }}>{{ store.name }}</option>
                    {% endfor %}
				</select>
      		</div>
      		<div class="panel-body">
        		<form action="{{ action }}" method="post" enctype="multipart/form-data" id="form-novaposhta" class="form-horizontal">
        			<ul class="nav nav-tabs">
						{% if license %}
							<li{{ license ? ' class="active"' }}><a href="#tab-general" data-toggle="tab"><i class="fa fa-cogs"></i> {{ tab_general }}</a></li>
							<li><a href="#tab-tariffs" data-toggle="tab"><i class="fa fa-calculator"></i> {{ tab_tariffs }}</a></li>
							<li><a href="#tab-database" data-toggle="tab"><i class="fa fa-database"></i> {{ tab_database }}</a></li>
							<li><a href="#tab-sender" data-toggle="tab"><i class="fa fa-user" aria-hidden="true"></i> {{ tab_sender }}</a></li>
							<li><a href="#tab-recipient" data-toggle="tab"><i class="fa fa-users" aria-hidden="true"></i> {{ tab_recipient }}</a></li>
							<li><a href="#tab-departure" data-toggle="tab"><i class="fa fa-cube" aria-hidden="true"></i> {{ tab_departure }}</a></li>
							<li><a href="#tab-payment" data-toggle="tab"><i class="fa fa-money" aria-hidden="true"></i> {{ tab_payment }}</a></li>
							<li><a href="#tab-consignment_note" data-toggle="tab"><i class="fa fa-file-text-o" aria-hidden="true"></i> {{ tab_consignment_note }}</a></li>
							<li><a href="#tab-cron" data-toggle="tab"><i class="fa fa-tasks"></i> {{ tab_cron }}</a></li>
                        {% endif %}
						<li role="presentation" class="dropdown{{ license == false ? ' active' }}">
		  					<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" style="cursor: pointer;"><i class="fa fa-life-ring"></i> {{ tab_support }} <span class="caret"></span></a>
		  					<ul class="dropdown-menu dropdown-menu-right">
								<li{{ license == false ? ' class="active"' }}><a href="#tab-support" data-toggle="tab">{{ text_contacts }}</a></li>
    							<li><a href="{{ instruction_href }}" target="_blank">{{ text_instruction }}</a></li>
								<li><a href="{{ documentation_api_href }}" target="_blank">{{ text_documentation_api }}</a></li>
								<li><a href="{{ official_website_href }}" target="_blank">{{ text_official_website }}</a></li>
							</ul>
		  				</li>
					</ul>
					<div class="tab-content">
                        {% if license %}
							<div class="tab-pane fade{{ license ? 'in active' }}" id="tab-general">
								<div class="col-sm-2">
									<ul class="nav nav-pills nav-stacked">
										<li class="active"><a href="#tab-global" data-toggle="pill">{{ text_global }}</a></li>
										<li><a href="#tab-department" data-toggle="pill">{{ text_department }}</a></li>
										<li><a href="#tab-doors" data-toggle="pill">{{ text_doors }}</a></li>
										<li><a href="#tab-poshtomat" data-toggle="pill">{{ text_poshtomat }}</a></li>
									</ul>
								</div>
								<div class="col-sm-10">
									<div class="tab-content">
										<div class="tab-pane active" id="tab-global">
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-status"><span data-toggle="tooltip" title="{{ help_status }}">{{ entry_status }}</span></label>
												<div class="col-sm-10">
													<input type="checkbox" name="shipping_novaposhta_status" id="input-status" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta_status ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-debugging_mode"><span data-toggle="tooltip" title="{{ help_debugging_mode }}">{{ entry_debugging_mode }}</span></label>
												<div class="col-sm-10">
													<input type="checkbox" name="shipping_novaposhta[debugging_mode]" id="input-debugging_mode" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['debugging_mode'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-sort_order"><span data-toggle="tooltip" title="{{ help_sort_order }}">{{ entry_sort_order }}</span></label>
												<div class="col-sm-10">
													<input type="text" name="shipping_novaposhta_sort_order" value="{{ novaposhta_sort_order }}" placeholder="{{ entry_sort_order }}" id="input-sort_order" class="form-control" />
												</div>
											</div>
											<div class="form-group required">
												<label class="col-sm-2 control-label" for="input-key_api"><span data-toggle="tooltip" title="{{ help_key_api }}">{{ entry_key_api }}</span></label>
												<div class="col-sm-10">
													<input type="text" name="shipping_novaposhta[key_api]" value="{{ novaposhta['key_api'] }}" placeholder="{{ entry_key_api }}" id="input-key_api" class="form-control" />
                                                    {% if error_key_api %}
														<div class="text-danger">{{ error_key_api }}</div>
                                                    {% endif %}
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-image"><span data-toggle="tooltip" title="{{ help_image }}">{{ entry_image }}</span></label>
												<div class="col-sm-4">
													<a href="" id="thumb-image" data-toggle="image" class="img-thumbnail"><img src="{{ thumb }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a>
													<input type="hidden" name="shipping_novaposhta[image]" value="{{ novaposhta['image'] }}" id="input-image" />
												</div>
												<label class="col-sm-2 control-label" for="input-image_output_place"><span data-toggle="tooltip" title="{{ help_image_output_place }}">{{ entry_image_output_place }}</span></label>
												<div class="col-sm-4">
													<select name="shipping_novaposhta[image_output_place]" id="input-image_output_place" class="form-control">
														<option value="0">{{ text_select }}</option>
														{% for code, name in image_output_places %}
															<option value="{{ code }}"{{ code == novaposhta['image_output_place'] ? ' selected="selected"' }}>{{ name }}</option>
														{% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-curl_connecttimeout"><span data-toggle="tooltip" title="{{ help_curl_connecttimeout }}">{{ entry_curl_connecttimeout }}</span></label>
												<div class="col-sm-4">
													<input type="text" name="shipping_novaposhta[curl_connecttimeout]" value="{{ novaposhta['curl_connecttimeout'] }}" placeholder="{{ entry_curl_connecttimeout }}" id="input-curl_connecttimeout" class="form-control" />
												</div>
												<label class="col-sm-2 control-label" for="input-curl_timeout"><span data-toggle="tooltip" title="{{ help_curl_timeout }}">{{ entry_curl_timeout }}</span></label>
												<div class="col-sm-4">
													<input type="text" name="shipping_novaposhta[curl_timeout]" value="{{ novaposhta['curl_timeout'] }}" placeholder="{{ entry_curl_timeout }}" id="input-curl_timeout" class="form-control" />
												</div>
											</div>
										</div>
										<div class="tab-pane fade" id="tab-department">
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-department_status"><span data-toggle="tooltip" title="{{ help_method_status }}">{{ entry_method_status }}</span></label>
												<div class="col-sm-10">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][department][status]" id="input-department_status" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['department']['status'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-department_name"><span data-toggle="tooltip" title="{{ help_name }}">{{ entry_name }}</span></label>
												<div class="col-sm-10">
													<ul class="nav nav-tabs" role="tablist">
														{% for language in languages %}
															<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#department_name_{{ language.language_id }}" aria-controls="department_name_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
														{% endfor %}
													 </ul>
													<div class="tab-content">
														{% for language in languages %}
															<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="department_name_{{ language.language_id }}">
																<input type="text" name="shipping_novaposhta[shipping_methods][department][name][{{ language.language_id }}]" value="{{ novaposhta['shipping_methods']['department']['name'][language.language_id] }}" placeholder="{{ entry_name }}" id="input-department_name_{{ language.language_id }}" class="form-control" />
															</div>
														{% endfor %}
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-department_geo_zone_id"><span data-toggle="tooltip" title="{{ help_geo_zone }}">{{ entry_geo_zone }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][department][geo_zone_id]" id="input-department_geo_zone_id" class="form-control">
														<option value="0">{{ text_all_zones }}</option>
                                                        {% for geo_zone in geo_zones %}
															<option value="{{ geo_zone.geo_zone_id }}"{{ geo_zone.geo_zone_id == novaposhta['shipping_methods']['department']['geo_zone_id'] ? ' selected="selected"' }}>{{ geo_zone.name }}</option>
                                                        {% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-department_tax_class_id"><span data-toggle="tooltip" title="{{ help_tax_class }}">{{ entry_tax_class }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][department][tax_class_id]" id="input-department_tax_class_id" class="form-control">
														<option value="0">{{ text_none }}</option>
                                                        {% for tax_class in tax_classes %}
															<option value="{{ tax_class.tax_class_id }}"{{ tax_class.tax_class_id == novaposhta['shipping_methods']['department']['tax_class_id'] ? ' selected="selected"' }}>{{ tax_class.title }}</option>
                                                        {% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-department_minimum_order_amount"><span data-toggle="tooltip" title="{{ help_minimum_order_amount }}">{{ entry_minimum_order_amount }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][department][minimum_order_amount]" value="{{ novaposhta['shipping_methods']['department']['minimum_order_amount'] }}" placeholder="{{ entry_minimum_order_amount }}" id="input-department_minimum_order_amount" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-department_maximum_order_amount"><span data-toggle="tooltip" title="{{ help_maximum_order_amount }}">{{ entry_maximum_order_amount }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][department][maximum_order_amount]" value="{{ novaposhta['shipping_methods']['department']['maximum_order_amount'] }}" placeholder="{{ entry_maximum_order_amount }}" id="input-department_maximum_order_amount" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-department_free_shipping"><span data-toggle="tooltip" title="{{ help_free_shipping }}">{{ entry_free_shipping }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][department][free_shipping]" value="{{ novaposhta['shipping_methods']['department']['free_shipping'] }}" placeholder="{{ entry_free_shipping }}" id="input-department_free_shipping" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-department_free_cost_text"><span data-toggle="tooltip" title="{{ help_free_cost_text }}">{{ entry_free_cost_text }}</span></label>
												<div class="col-sm-4">
													<ul class="nav nav-tabs" role="tablist">
                                                        {% for language in languages %}
															<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#department_free_cost_text_{{ language.language_id }}" aria-controls="department_free_cost_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
														{% endfor %}
													</ul>
													<div class="tab-content">
														{% for language in languages %}
															<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="department_free_cost_text_{{ language.language_id }}">
																<input type="text" name="shipping_novaposhta[shipping_methods][department][free_cost_text][{{ language.language_id }}]" value="{{ novaposhta['shipping_methods']['department']['free_cost_text'][language.language_id] }}" placeholder="{{ entry_free_cost_text }}" id="input-department_free_cost_text_{{ language.language_id }}" class="form-control" />
															</div>
                                                        {% endfor %}
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-department_cost"><span data-toggle="tooltip" title="{{ help_cost }}">{{ entry_cost }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][department][cost]" id="input-department_cost" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['department']['cost'] ? ' checked' }}>
												</div>
												<label class="col-sm-2 control-label" for="input-department_api_calculation"><span data-toggle="tooltip" title="{{ help_api_calculation }}">{{ entry_api_calculation }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][department][api_calculation]" id="input-department_api_calculation" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['department']['api_calculation'] ? ' checked' }}>
												</div>
												<label class="col-sm-2 control-label" for="input-department_tariff_calculation"><span data-toggle="tooltip" title="{{ help_tariff_calculation }}">{{ entry_tariff_calculation }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][department][tariff_calculation]" id="input-department_tariff_calculation" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['department']['tariff_calculation'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-department_delivery_period"><span data-toggle="tooltip" title="{{ help_delivery_period }}">{{ entry_delivery_period }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][department][delivery_period]" id="input-department_delivery_period" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['department']['delivery_period'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-departments_filter_weight"><span data-toggle="tooltip" title="{{ help_departments_filter_weight }}">{{ entry_departments_filter_weight }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][department][filter_weight]" id="input-departments_filter_weight" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['department']['filter_weight'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-departments_filter_dimensions"><span data-toggle="tooltip" title="{{ help_departments_filter_dimensions }}">{{ entry_departments_filter_dimensions }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][department][filter_dimensions]" id="input-departments_filter_dimensions" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['department']['filter_dimensions'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-department_types"><span data-toggle="tooltip" title="{{ help_department_types }}">{{ entry_department_types }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][department][department_types][]" id="input-department_types"  class="form-control selectpicker" title="{{ text_all }}" data-actions-box="true" multiple>
														{% for department_type in department_types %}
															<option value="{{ department_type.Ref }}"{{ department_type.Ref in novaposhta['shipping_methods']['department']['department_types'] ? ' selected="selected"' }}>{{ department_type.Description }}</option>
														{% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-department_statuses"><span data-toggle="tooltip" title="{{ help_department_statuses }}">{{ entry_department_statuses }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][department][department_statuses][]" id="input-department_statuses" class="form-control selectpicker" title="{{ text_all }}" multiple data-actions-box="true">
														{% for department_status in department_statuses %}
															<option value="{{ department_status.id }}"{{ department_status.id in novaposhta['shipping_methods']['department']['department_statuses'] ? ' selected="selected"' }}>{{ department_status.Description }}</option>
														{% endfor %}
													</select>
												</div>
											</div>
										</div>
										<div class="tab-pane" id="tab-doors">
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_status"><span data-toggle="tooltip" title="{{ help_method_status }}">{{ entry_method_status }}</span></label>
												<div class="col-sm-10">
                                                    <input type="checkbox" name="shipping_novaposhta[shipping_methods][doors][status]" id="input-doors_status" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['doors']['status'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_name"><span data-toggle="tooltip" title="{{ help_name }}">{{ entry_name }}</span></label>
												<div class="col-sm-10">
													<ul class="nav nav-tabs" role="tablist">
                                                        {% for language in languages %}
															<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#doors_name_{{ language.language_id }}" aria-controls="doors_name_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                                        {% endfor %}
													 </ul>
													<div class="tab-content">
                                                        {% for language in languages %}
															<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="doors_name_{{ language.language_id }}">
																<input type="text" name="shipping_novaposhta[shipping_methods][doors][name][{{ language.language_id }}]" value="{{ novaposhta['shipping_methods']['doors']['name'][language.language_id] }}" placeholder="{{ entry_name }}" id="input-doors_name_{{ language.language_id }}" class="form-control" />
															</div>
                                                        {% endfor %}
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_geo_zone_id"><span data-toggle="tooltip" title="{{ help_geo_zone }}">{{ entry_geo_zone }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][doors][geo_zone_id]" id="input-doors_geo_zone_id" class="form-control">
														<option value="0">{{ text_all_zones }}</option>
                                                        {% for geo_zone in geo_zones %}
															<option value="{{ geo_zone.geo_zone_id }}"{{ geo_zone.geo_zone_id == novaposhta['shipping_methods']['doors']['geo_zone_id'] ? ' selected="selected"' }}>{{ geo_zone.name }}</option>
                                                        {% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_tax_class_id"><span data-toggle="tooltip" title="{{ help_tax_class }}">{{ entry_tax_class }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][doors][tax_class_id]" id="input-doors_tax_class_id" class="form-control">
														<option value="0">{{ text_none }}</option>
                                                        {% for tax_class in tax_classes %}
															<option value="{{ tax_class.tax_class_id }}"{{ tax_class.tax_class_id == novaposhta['shipping_methods']['doors']['tax_class_id'] ? ' selected="selected"' }}>{{ tax_class.title }}</option>
                                                        {% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_minimum_order_amount"><span data-toggle="tooltip" title="{{ help_minimum_order_amount }}">{{ entry_minimum_order_amount }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][doors][minimum_order_amount]" value="{{ novaposhta['shipping_methods']['doors']['minimum_order_amount'] }}" placeholder="{{ entry_minimum_order_amount }}" id="input-doors_minimum_order_amount" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-doors_maximum_order_amount"><span data-toggle="tooltip" title="{{ help_maximum_order_amount }}">{{ entry_maximum_order_amount }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][doors][maximum_order_amount]" value="{{ novaposhta['shipping_methods']['doors']['maximum_order_amount'] }}" placeholder="{{ entry_maximum_order_amount }}" id="input-doors_maximum_order_amount" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_free_shipping"><span data-toggle="tooltip" title="{{ help_free_shipping }}">{{ entry_free_shipping }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][doors][free_shipping]" value="{{ novaposhta['shipping_methods']['doors']['free_shipping'] }}" placeholder="{{ entry_free_shipping }}" id="input-doors_free_shipping" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-doors_free_cost_text"><span data-toggle="tooltip" title="{{ help_free_cost_text }}">{{ entry_free_cost_text }}</span></label>
												<div class="col-sm-4">
													<ul class="nav nav-tabs" role="tablist">
                                                        {% for language in languages %}
														<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#doors_free_cost_text_{{ language.language_id }}" aria-controls="doors_free_cost_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                                        {% endfor %}
													</ul>
													<div class="tab-content">
                                                        {% for language in languages %}
														<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="doors_free_cost_text_{{ language.language_id }}">
															<input type="text" name="shipping_novaposhta[shipping_methods][doors][free_cost_text][{{ language.language_id }}]" value="{{ novaposhta['shipping_methods']['doors']['free_cost_text'][language.language_id] }}" placeholder="{{ entry_free_cost_text }}" id="input-doors_free_cost_text_{{ language.language_id }}" class="form-control" />
														</div>
                                                        {% endfor %}
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_cost"><span data-toggle="tooltip" title="{{ help_cost }}">{{ entry_cost }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][doors][cost]" id="input-doors_cost" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['doors']['cost'] ? ' checked' }}>
												</div>
												<label class="col-sm-2 control-label" for="input-doors_api_calculation"><span data-toggle="tooltip" title="{{ help_api_calculation }}">{{ entry_api_calculation }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][doors][api_calculation]" id="input-doors_api_calculation" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['doors']['api_calculation'] ? ' checked' }}>
												</div>
												<label class="col-sm-2 control-label" for="input-doors_tariff_calculation"><span data-toggle="tooltip" title="{{ help_tariff_calculation }}">{{ entry_tariff_calculation }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][doors][tariff_calculation]" id="input-doors_tariff_calculation" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['doors']['tariff_calculation'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_delivery_period"><span data-toggle="tooltip" title="{{ help_delivery_period }}">{{ entry_delivery_period }}</span></label>
												<div class="col-sm-10">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][doors][delivery_period]" id="input-doors_delivery_period" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['doors']['delivery_period'] ? ' checked' }}>
												</div>
											</div>
										</div>
										<div class="tab-pane" id="tab-poshtomat">
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-poshtomat_status"><span data-toggle="tooltip" title="{{ help_method_status }}">{{ entry_method_status }}</span></label>
												<div class="col-sm-10">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][poshtomat][status]" id="input-poshtomat_status" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['poshtomat']['status'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-poshtomat_name"><span data-toggle="tooltip" title="{{ help_name }}">{{ entry_name }}</span></label>
												<div class="col-sm-10">
													<ul class="nav nav-tabs" role="tablist">
														{% for language in languages %}
															<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#poshtomat_name_{{ language.language_id }}" aria-controls="poshtomat_name_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
														{% endfor %}
													</ul>
													<div class="tab-content">
														{% for language in languages %}
															<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="poshtomat_name_{{ language.language_id }}">
																<input type="text" name="shipping_novaposhta[shipping_methods][poshtomat][name][{{ language.language_id }}]" value="{{ novaposhta['shipping_methods']['poshtomat']['name'][language.language_id] }}" placeholder="{{ entry_name }}" id="input-poshtomat_name_{{ language.language_id }}" class="form-control" />
															</div>
														{% endfor %}
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-poshtomat_geo_zone_id"><span data-toggle="tooltip" title="{{ help_geo_zone }}">{{ entry_geo_zone }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][poshtomat][geo_zone_id]" id="input-poshtomat_geo_zone_id" class="form-control">
														<option value="0">{{ text_all_zones }}</option>
														{% for geo_zone in geo_zones %}
															<option value="{{ geo_zone.geo_zone_id }}"{{ geo_zone.geo_zone_id == novaposhta['shipping_methods']['poshtomat']['geo_zone_id'] ? ' selected="selected"' }}>{{ geo_zone.name }}</option>
														{% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-poshtomat_tax_class_id"><span data-toggle="tooltip" title="{{ help_tax_class }}">{{ entry_tax_class }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][poshtomat][tax_class_id]" id="input-poshtomat_tax_class_id" class="form-control">
														<option value="0">{{ text_none }}</option>
														{% for tax_class in tax_classes %}
															<option value="{{ tax_class.tax_class_id }}"{{ tax_class.tax_class_id == novaposhta['shipping_methods']['poshtomat']['tax_class_id'] ? ' selected="selected"' }}>{{ tax_class.title }}</option>
														{% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-poshtomat_minimum_order_amount"><span data-toggle="tooltip" title="{{ help_minimum_order_amount }}">{{ entry_minimum_order_amount }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][poshtomat][minimum_order_amount]" value="{{ novaposhta['shipping_methods']['poshtomat']['minimum_order_amount'] }}" placeholder="{{ entry_minimum_order_amount }}" id="input-poshtomat_minimum_order_amount" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-poshtomat_maximum_order_amount"><span data-toggle="tooltip" title="{{ help_maximum_order_amount }}">{{ entry_maximum_order_amount }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][poshtomat][maximum_order_amount]" value="{{ novaposhta['shipping_methods']['poshtomat']['maximum_order_amount'] }}" placeholder="{{ entry_maximum_order_amount }}" id="input-poshtomat_maximum_order_amount" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-poshtomat_free_shipping"><span data-toggle="tooltip" title="{{ help_free_shipping }}">{{ entry_free_shipping }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][poshtomat][free_shipping]" value="{{ novaposhta['shipping_methods']['poshtomat']['free_shipping'] }}" placeholder="{{ entry_free_shipping }}" id="input-poshtomat_free_shipping" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-poshtomat_free_cost_text"><span data-toggle="tooltip" title="{{ help_free_cost_text }}">{{ entry_free_cost_text }}</span></label>
												<div class="col-sm-4">
													<ul class="nav nav-tabs" role="tablist">
														{% for language in languages %}
															<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#poshtomat_free_cost_text_{{ language.language_id }}" aria-controls="poshtomat_free_cost_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
														{% endfor %}
													</ul>
													<div class="tab-content">
														{% for language in languages %}
															<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="poshtomat_free_cost_text_{{ language.language_id }}">
																<input type="text" name="shipping_novaposhta[shipping_methods][poshtomat][free_cost_text][{{ language.language_id }}]" value="{{ novaposhta['shipping_methods']['poshtomat']['free_cost_text'][language.language_id] }}" placeholder="{{ entry_free_cost_text }}" id="input-poshtomat_free_cost_text_{{ language.language_id }}" class="form-control" />
															</div>
														{% endfor %}
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-poshtomat_cost"><span data-toggle="tooltip" title="{{ help_cost }}">{{ entry_cost }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][poshtomat][cost]" id="input-poshtomat_cost" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['poshtomat']['cost'] ? ' checked' }}>
												</div>
												<label class="col-sm-2 control-label" for="input-poshtomat_api_calculation"><span data-toggle="tooltip" title="{{ help_api_calculation }}">{{ entry_api_calculation }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][poshtomat][api_calculation]" id="input-poshtomat_api_calculation" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['poshtomat']['api_calculation'] ? ' checked' }}>
												</div>
												<label class="col-sm-2 control-label" for="input-poshtomat_tariff_calculation"><span data-toggle="tooltip" title="{{ help_tariff_calculation }}">{{ entry_tariff_calculation }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][poshtomat][tariff_calculation]" id="input-poshtomat_tariff_calculation" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['poshtomat']['tariff_calculation'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-poshtomat_delivery_period"><span data-toggle="tooltip" title="{{ help_delivery_period }}">{{ entry_delivery_period }}</span></label>
												<div class="col-sm-10">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][poshtomat][delivery_period]" id="input-poshtomat_delivery_period" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['poshtomat']['delivery_period'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-poshtomats_filter_weight"><span data-toggle="tooltip" title="{{ help_departments_filter_weight }}">{{ entry_departments_filter_weight }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][poshtomat][filter_weight]" id="input-poshtomats_filter_weight" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['poshtomat']['filter_weight'] ? ' checked' }}>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-poshtomats_filter_dimensions"><span data-toggle="tooltip" title="{{ help_departments_filter_dimensions }}">{{ entry_departments_filter_dimensions }}</span></label>
												<div class="col-sm-2">
													<input type="checkbox" name="shipping_novaposhta[shipping_methods][poshtomat][filter_dimensions]" id="input-poshtomats_filter_dimensions" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['shipping_methods']['poshtomat']['filter_dimensions'] ? ' checked' }}>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-tariffs">
								<blockquote>
									<h2>{{ text_parcel_tariffs }}</h2>
								</blockquote>
								<div class="table-responsive">
									<table class="table table-bordered table-hover" id="table-tariffs-parcel">
										<thead>
										<tr>
											<td class="text-center" rowspan="3">{{ column_weight }}</td>
											<td class="text-center" colspan="4">{{ column_department_service_cost }}</td>
											<td class="text-center" colspan="2">{{ column_doors_service_cost }}</td>
											<td class="text-center" rowspan="3">{{ column_action }}</td>
										</tr>
										<tr>
											<td class="text-center">{{ column_tariff_transfer_in_department }}</td>
											<td class="text-center">{{ column_tariff_zone_city }}</td>
											<td class="text-center">{{ column_tariff_zone_region }}</td>
											<td class="text-center">{{ column_tariff_zone_ukraine }}</td>
											<td class="text-center" rowspan="2">{{ column_doors_pickup }}</td>
											<td class="text-center" rowspan="2">{{ column_doors_delivery }}</td>
										</tr>
										<tr>
											<td class="text-center">{{ column_delivery_period }} <input type="text" name="shipping_novaposhta[tariffs][parcel][department_delivery_period]" value="{{ novaposhta['tariffs']['parcel']['department_delivery_period'] }}" class="form-control" style="display: inline; width: auto;" /></td>
											<td class="text-center">{{ column_delivery_period }} <input type="text" name="shipping_novaposhta[tariffs][parcel][city_delivery_period]" value="{{ novaposhta['tariffs']['parcel']['city_delivery_period'] }}" class="form-control" style="display: inline; width: auto;" /></td>
											<td class="text-center">{{ column_delivery_period }} <input type="text" name="shipping_novaposhta[tariffs][parcel][region_delivery_period]" value="{{ novaposhta['tariffs']['parcel']['region_delivery_period'] }}" class="form-control" style="display: inline; width: auto;" /></td>
											<td class="text-center">{{ column_delivery_period }} <input type="text" name="shipping_novaposhta[tariffs][parcel][ukraine_delivery_period]" value="{{ novaposhta['tariffs']['parcel']['ukraine_delivery_period'] }}" class="form-control" style="display: inline; width: auto;" /></td>
										</tr>
										</thead>
										<tbody>
										{% set c = 1 %}
                                        {% for tariff in novaposhta['tariffs']['parcel'] %}
											{% if tariff is iterable %}
											<tr>
												<td><input type="text" name="shipping_novaposhta[tariffs][parcel][{{ c }}][weight]" value="{{ tariff.weight }}" class="form-control" /></td>
												<td><input type="text" name="shipping_novaposhta[tariffs][parcel][{{ c }}][department]" value="{{ tariff.department }}" class="form-control" /></td>
												<td><input type="text" name="shipping_novaposhta[tariffs][parcel][{{ c }}][city]" value="{{ tariff.city }}" class="form-control" /></td>
												<td><input type="text" name="shipping_novaposhta[tariffs][parcel][{{ c }}][region]" value="{{ tariff.region }}" class="form-control" /></td>
												<td><input type="text" name="shipping_novaposhta[tariffs][parcel][{{ c }}][Ukraine]" value="{{ tariff.Ukraine }}" class="form-control" /></td>
												<td><input type="text" name="shipping_novaposhta[tariffs][parcel][{{ c }}][overpay_doors_pickup]" value="{{ tariff.overpay_doors_pickup }}" class="form-control" /></td>
												<td><input type="text" name="shipping_novaposhta[tariffs][parcel][{{ c }}][overpay_doors_delivery]" value="{{ tariff.overpay_doors_delivery }}" class="form-control" /></td>
												<td class="text-center"><button type="button" onclick="$(this).parents('tr').remove();" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
										</tr>
												{% set c = c + 1 %}
											{% endif %}
                                        {% endfor %}
										</tbody>
										<tfoot>
										<tr>
											<td colspan="7"></td>
											<td class="text-center"><button type="button" onclick="addTariff('parcel');" data-toggle="modal" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button>
											</td>
										</tr>
										</tfoot>
									</table>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-tariffs-parcel_discount"><span data-toggle="tooltip" title="{{ help_discount }}">{{ entry_discount }}</span></label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[tariffs][parcel][discount]" value="{{ novaposhta['tariffs']['parcel']['discount'] }}" placeholder="{{ entry_discount }}" id="input-tariffs-parcel_discount" class="form-control" />
											<span class="input-group-addon">{{ text_pct }}</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-tariffs-parcel_declared_cost_commission"><span data-toggle="tooltip" title="{{ help_declared_cost_commission }}">{{ entry_declared_cost_commission }}</span></label>
									<div class="col-sm-2">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[tariffs][parcel][declared_cost_commission]" value="{{ novaposhta['tariffs']['parcel']['declared_cost_commission'] }}" placeholder="{{ entry_declared_cost_commission }}" id="input-tariffs-parcel_declared_cost_commission" class="form-control" />
											<span class="input-group-addon">{{ text_pct }}</span>
										</div>
									</div>
									<label class="col-sm-2 control-label" for="input-tariffs-parcel_declared_cost_minimum_commission"><span data-toggle="tooltip" title="{{ help_declared_cost_minimum_commission }}">{{ entry_declared_cost_minimum_commission }}</span></label>
									<div class="col-sm-2">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[tariffs][parcel][declared_cost_minimum_commission]" value="{{ novaposhta['tariffs']['parcel']['declared_cost_minimum_commission'] }}" placeholder="{{ entry_declared_cost_minimum_commission }}" id="input-tariffs-parcel_declared_cost_minimum_commission" class="form-control" />
											<span class="input-group-addon">{{ text_grn }}</span>
										</div>
									</div>
									<label class="col-sm-2 control-label" for="input-tariffs-parcel_declared_cost_commission_bottom"><span data-toggle="tooltip" title="{{ help_declared_cost_commission_bottom }}">{{ entry_declared_cost_commission_bottom }}</span></label>
									<div class="col-sm-2">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[tariffs][parcel][declared_cost_commission_bottom]" value="{{ novaposhta['tariffs']['parcel']['declared_cost_commission_bottom'] }}" placeholder="{{ entry_declared_cost_commission_bottom }}" id="input-tariffs-parcel_declared_cost_commission_bottom" class="form-control" />
											<span class="input-group-addon">{{ text_grn }}</span>
										</div>
									</div>
								</div>
								<hr>
								<br><br><br>
								<blockquote>
									<h2>{{ text_cod_tariffs }}</h2>
								</blockquote>
								<div class="table-responsive" style="overflow-y:visible; overflow-x:visible;">
									<table class="table table-bordered table-hover" id="table-tariffs-cod">
										<thead>
										<tr>
											<td class="text-center">{{ column_delivery_type }}</td>
											<td class="text-center">{{ column_calculation_base }}</td>
											<td class="text-center">{{ column_tariff_limit }}</td>
											<td class="text-center">{{ column_percent }}</td>
											<td class="text-center">{{ column_fixed_amount }}</td>
											<td class="text-center">{{ column_minimum_payment }}</td>
											<td class="text-center">{{ column_action }}</td>
										</tr>
										</thead>
										<tbody>
										{% set c = 1 %}
										{% for tariff in novaposhta['tariffs']['cod'] %}
											{% if tariff is iterable %}
										<tr>
											<td>
												<select name="shipping_novaposhta[tariffs][cod][{{ c }}][delivery_type]" class="form-control">
													{% for v in delivery_types %}
														{% if v is iterable %}
														<option value="{{ v.id }}"{{ v.id == tariff.delivery_type ? ' selected="selected"' }}>{{ v.Description }}</option>
														{% endif %}
													{% endfor %}
												</select>
											</td>
											<td>
												<select name="shipping_novaposhta[tariffs][cod][{{ c }}][calculation_base][]" class="form-control selectpicker" title="{{ text_select }}" multiple data-actions-box="true">
													{% for k, v in totals %}
														<option value="{{ k }}"{{ k in tariff.calculation_base ? ' selected="selected"' }}>{{ v }}</option>
													{% endfor %}
												</select>
											</td>
											<td><input type="text" name="shipping_novaposhta[tariffs][cod][{{ c }}][tariff_limit]" value="{{ tariff.tariff_limit }}" class="form-control" /></td>
											<td><input type="text" name="shipping_novaposhta[tariffs][cod][{{ c }}][percent]" value="{{ tariff.percent }}" class="form-control" /></td>
											<td><input type="text" name="shipping_novaposhta[tariffs][cod][{{ c }}][fixed_amount]" value="{{ tariff.fixed_amount }}" class="form-control" /></td>
											<td><input type="text" name="shipping_novaposhta[tariffs][cod][{{ c }}][minimum_payment]" value="{{ tariff.minimum_payment }}" class="form-control" /></td>
											<td class="text-center"><button type="button" onclick="$(this).parents('tr').remove();" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
										</tr>
												{% set c = c + 1 %}
											{% endif %}
										{% endfor %}
										</tbody>
										<tfoot>
										<tr>
											<td colspan="6"></td>
											<td class="text-center"><button type="button" onclick="addTariff('cod');" data-toggle="modal" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button>
											</td>
										</tr>
										</tfoot>
									</table>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-database">
								<div class="table-responsive">
									<table class="table table-bordered table-hover">
										<thead>
											<tr>
												<td class="text-center">{{ column_type }}</td>
												<td class="text-center">{{ column_date }}</td>
												<td class="text-center">{{ column_amount }}</td>
												<td class="text-center">{{ column_description }}</td>
												<td class="text-center">{{ column_action }}</td>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td class="text-left">{{ entry_references }}</td>
												<td class="text-center">{{ database['references']['update_datetime'] }}</td>
												<td class="text-center" id="td-references_amount">{{ database['references']['amount'] }}</td>
												<td class="text-left">{{ help_update_references }}</td>
												<td class="text-center">
													<a onclick="update('references');" id="button-update_references" data-toggle="tooltip" title="" class="btn btn-success" data-original-title="{{ button_update }}"><i class="fa fa-refresh"></i></a>
												</td>
											</tr>
											<tr>
												<td class="text-left">{{ entry_region }}</td>
												<td class="text-center">{{ database['regions']['update_datetime'] }}</td>
												<td class="text-center" id="td-regions_amount">{{ database['regions']['amount'] }}</td>
												<td class="text-left">{{ help_update_regions }}</td>
												<td class="text-center">
													<a onclick="update('regions');" id="button-update_regions" data-toggle="tooltip" title="" class="btn btn-success" data-original-title="{{ button_update }}"><i class="fa fa-refresh"></i></a>
												</td>
											</tr>
											<tr>
												<td class="text-left">{{ entry_city }}</td>
												<td class="text-center">{{ database['cities']['update_datetime'] }}</td>
												<td class="text-center" id="td-cities_amount">{{ database['cities']['amount'] }}</td>
												<td class="text-left">{{ help_update_cities }}</td>
												<td class="text-center">
													<a onclick="update('cities');" id="button-update_cities" data-toggle="tooltip" title="" class="btn btn-success" data-original-title="{{ button_update }}"><i class="fa fa-refresh"></i></a>
												</td>
											</tr>
											<tr>
												<td class="text-left">{{ entry_department }}</td>
												<td class="text-center">{{ database['departments']['update_datetime'] }}</td>
												<td class="text-center" id="td-departments_amount">{{ database['departments']['amount'] }}</td>
												<td class="text-left">{{ help_update_departments }}</td>
												<td class="text-center">
													<a onclick="update('departments');" id="button-update_departments" data-toggle="tooltip" title="" class="btn btn-success" data-original-title="{{ button_update }}"><i class="fa fa-refresh"></i></a>
												</td>
											</tr>
											<tr>
												<td class="text-left">{{ entry_settlement }}</td>
												<td class="text-center"><span class="label label-success">online</span></td>
												<td class="text-center" id="td-settlements_amount"></td>
												<td class="text-left">{{ help_update_settlements }}</td>
												<td class="text-center">
													<input type="checkbox" name="shipping_novaposhta[settlements]" id="button-update_settlements" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-size="mini" data-onstyle="success" data-offstyle="danger"{{ novaposhta['settlements'] ? ' checked' }}>
												</td>
											</tr>
											<tr>
												<td class="text-left">{{ entry_street }}</td>
												<td class="text-center"><span class="label label-success">online</span></td>
												<td class="text-center" id="td-streets_amount"></td>
												<td class="text-left">{{ help_update_streets }}</td>
												<td class="text-center">
													<input type="checkbox" name="shipping_novaposhta[streets]" id="button-update_streets" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-size="mini" data-onstyle="success" data-offstyle="danger"{{ novaposhta['streets'] ? ' checked' }}>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-sender">
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sender"><span data-toggle="tooltip" title="{{ help_sender }}">{{ entry_sender }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[sender]" id="input-sender" class="form-control selectpicker show-tick" data-live-search="true">
											<option value="">{{ text_select }}</option>
                                            {% for v in senders %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['sender'] ? ' selected="selected"' }}>{{ v.Description }}{{ v.CityDescription ? ', ' ~ v.CityDescription }}</option>
											{% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sender_contact_person"><span data-toggle="tooltip" title="{{ help_sender_contact_person }}">{{ entry_contact_person }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[sender_contact_person]" id="input-sender_contact_person" class="form-control selectpicker show-tick" data-live-search="true">
											<option value="">{{ text_select }}</option>
                                            {% for v in sender_contact_persons %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['sender_contact_person'] ? ' selected="selected"' }}>{{ v.Description ~ ', ' ~ v.Phones }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sender_region"><span data-toggle="tooltip" title="{{ help_sender_region }}">{{ entry_region }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[sender_region]" id="input-sender_region" class="form-control selectpicker show-tick" data-live-search="true">
											<option value="">{{ text_select }}</option>
											{% for v in regions %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['sender_region'] ? ' selected="selected"' }}>{{ v.Description }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sender_city"><span data-toggle="tooltip" title="{{ help_sender_city }}">{{ entry_city }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[sender_city]" id="input-sender_city" class="form-control selectpicker show-tick" data-live-search="true"></select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sender_department"><span data-toggle="tooltip" title="{{ help_sender_department }}">{{ entry_department }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[sender_department]" id="input-sender_department" class="form-control selectpicker show-tick" data-live-search="true"></select>
									</div>
								</div>
								<div class="form-group" style="display: none;">
									<label class="col-sm-2 control-label" for="input-sender_address"><span data-toggle="tooltip" title="{{ help_sender_address }}">{{ entry_address }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[sender_address]" id="input-sender_address" class="form-control selectpicker show-tick" data-live-search="true"></select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sender_address_pick_up"><span data-toggle="tooltip" title="{{ help_sender_address_pick_up }}">{{ entry_address_pick_up }}</span></label>
									<div class="col-sm-10">
										<input type="checkbox" name="shipping_novaposhta[sender_address_pick_up]" id="input-sender_address_pick_up" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['sender_address_pick_up'] ? ' checked' }}>
										<input type="hidden" name="shipping_novaposhta[sender_address_type]" value="{{ novaposhta['sender_address_type'] }}" id="input-sender_address_type"/>
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-recipient">
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_name"><span data-toggle="tooltip" title="{{ help_recipient }}">{{ entry_recipient }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_name]" value="{{ novaposhta['recipient_name'] }}" placeholder="{{ text_select }}" id="input-recipient_name" class="form-control" />
										<input type="hidden" name="shipping_novaposhta[recipient]" value="{{ novaposhta['recipient'] }}" id="input-recipient" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_contact_person"><span data-toggle="tooltip" title="{{ help_recipient_contact_person }}">{{ entry_contact_person }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_contact_person]" value="{{ novaposhta['recipient_contact_person'] }}" placeholder="{{ entry_contact_person }}" id="input-recipient_contact_person" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_contact_person_phone"><span data-toggle="tooltip" title="{{ help_recipient_contact_person_phone }}">{{ entry_phone }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_contact_person_phone]" value="{{ novaposhta['recipient_contact_person_phone'] }}" placeholder="{{ entry_phone }}" id="input-recipient_contact_person_phone" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_edrpou"><span data-toggle="tooltip" title="{{ help_recipient_edrpou }}">{{ entry_edrpou }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_edrpou]" value="{{ novaposhta['recipient_edrpou'] }}" placeholder="{{ entry_edrpou }}" id="input-recipient_edrpou" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_region"><span data-toggle="tooltip" title="{{ help_recipient_region }}">{{ entry_region }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_region]" value="{{ novaposhta['recipient_region'] }}" placeholder="{{ entry_region }}" id="input-recipient_region" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_city"><span data-toggle="tooltip" title="{{ help_recipient_city }}">{{ entry_city }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_city]" value="{{ novaposhta['recipient_city'] }}" placeholder="{{ entry_city }}" id="input-recipient_city" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_department"><span data-toggle="tooltip" title="{{ help_recipient_department }}">{{ entry_department }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_department]" value="{{ novaposhta['recipient_department'] }}" placeholder="{{ entry_department }}" id="input-recipient_department" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_address"><span data-toggle="tooltip" title="{{ help_recipient_address }}">{{ entry_address }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_address]" value="{{ novaposhta['recipient_address'] }}" placeholder="{{ entry_address }}" id="input-recipient_address" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_street"><span data-toggle="tooltip" title="{{ help_recipient_street }}">{{ entry_street }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_street]" value="{{ novaposhta['recipient_street'] }}" placeholder="{{ entry_street }}" id="input-recipient_street" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_house"><span data-toggle="tooltip" title="{{ help_recipient_house }}">{{ entry_house }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_house]" value="{{ novaposhta['recipient_house'] }}" placeholder="{{ entry_house }}" id="input-recipient_house" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_flat"><span data-toggle="tooltip" title="{{ help_recipient_flat }}">{{ entry_flat }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_flat]" value="{{ novaposhta['recipient_flat'] }}" placeholder="{{ entry_flat }}" id="input-recipient_flat" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-preferred_delivery_date"><span data-toggle="tooltip" title="{{ help_preferred_delivery_date }}">{{ entry_preferred_delivery_date }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[preferred_delivery_date]" value="{{ novaposhta['preferred_delivery_date'] }}" placeholder="{{ entry_preferred_delivery_date }}" id="input-preferred_delivery_date" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-preferred_delivery_time"><span data-toggle="tooltip" title="{{ help_preferred_delivery_time }}">{{ entry_preferred_delivery_time }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[preferred_delivery_time]" value="{{ novaposhta['preferred_delivery_time'] }}" placeholder="{{ entry_preferred_delivery_time }}" id="input-preferred_delivery_time" class="form-control" />
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-departure">
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-autodetection_departure_type"><span data-toggle="tooltip" title="{{ help_autodetection_departure_type }}">{{ entry_autodetection_departure_type }}</span></label>
									<div class="col-sm-2">
                                        <input type="checkbox" name="shipping_novaposhta[autodetection_departure_type]" id="input-autodetection_departure_type" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['autodetection_departure_type'] ? ' checked' }}>
									</div>
									<label class="col-sm-2 control-label" for="input-departure_type"><span data-toggle="tooltip" title="{{ help_departure_type }}">{{ entry_departure_type }}</span></label>
									<div class="col-sm-6">
										<select name="shipping_novaposhta[departure_type]" id="input-departure_type" class="form-control">
											{% for v in cargo_types %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['departure_type'] ? ' selected="selected"' }}>{{ v.Description }}</option>
											{% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-calculate_volume"><span data-toggle="tooltip" title="{{ help_calculate_volume }}">{{ entry_calculate_volume }}</span></label>
									<div class="col-sm-2">
                                        <input type="checkbox" name="shipping_novaposhta[calculate_volume]" id="input-calculate_volume" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['calculate_volume'] ? ' checked' }}>
									</div>
									<label class="col-sm-2 control-label" for="input-calculate_volume_type"><span data-toggle="tooltip" title="{{ help_calculate_volume_type }}">{{ entry_calculate_volume_type }}</span></label>
									<div class="col-sm-6">
										<div class="btn-group" data-toggle="buttons">
											{% for k, v in calculate_volume_types %}
											{% if k == novaposhta['calculate_volume_type'] %}
											<label class="btn btn-default active">
												<input type="radio" name="shipping_novaposhta[calculate_volume_type]" value="{{ k }}" id="input-calculate_volume_type-{{ k }}" checked>{{ v }}
											</label>
											{% else %}
											<label class="btn btn-default">
												<input type="radio" name="shipping_novaposhta[calculate_volume_type]" value="{{ k }}" id="input-calculate_volume_type-{{ k }}">{{ v }}
											</label>
											{% endif %}
											{% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-seats_amount"><span data-toggle="tooltip" title="{{ help_seats_amount }}">{{ entry_seats_amount }}</span></label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[seats_amount]" value="{{ novaposhta['seats_amount'] }}" placeholder="{{ entry_seats_amount }}" id="input-seats_amount" class="form-control" />
											<span class="input-group-addon">{{ text_pc }}</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-declared_cost"><span data-toggle="tooltip" title="{{ help_declared_cost }}">{{ entry_declared_cost }}</span></label>
									<div class="col-sm-2">
										<div class="well well-sm" style="height: 150px; overflow: auto;">
											{% for code, title in totals %}
												<div class="checkbox">
													<label>
														<input type="checkbox" name="shipping_novaposhta[declared_cost][]" value="{{ code }}"{{ code in novaposhta['declared_cost'] ? ' checked' }} /> {{ title }}
													</label>
												</div>
                                            {% endfor %}
                                            {% for v in novaposhta['declared_cost'] %}
												{% if v is iterable %}
												<div class="checkbox">
													<label>
														<input type="checkbox" name="shipping_novaposhta[declared_cost][]" value="{{ v.code }}"{{ v.code in novaposhta['declared_cost'] ? ' checked' }} /> {{ v.name }}
														<button type="button" class="btn btn-danger btn-xs" onclick="$(this).parents('div.checkbox').remove();"><i class="fa fa-minus-circle" aria-hidden="true"></i></button>
													</label>
													<input type="hidden" name="shipping_novaposhta[declared_cost][{{ v.code }}][code]" value="{{ v.code }}" />
													<input type="hidden" name="shipping_novaposhta[declared_cost][{{ v.code }}][name]" value="{{ v.name }}" />
												</div>
												{% endif %}
                                            {% endfor %}
											<br/>
											<button type="button" class="btn btn-primary btn-sm" data-toggle="tooltip" title="{{ button_add }}" onclick="addCustomMethod('declared_cost');"><i class="fa fa-plus-circle" aria-hidden="true"></i></button>
										</div>
									</div>
									<label class="col-sm-2 control-label" for="input-declared_cost_default"><span data-toggle="tooltip" title="{{ help_declared_cost_default }}">{{ entry_declared_cost_default }}</span></label>
									<div class="col-sm-2">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[declared_cost_default]" value="{{ novaposhta['declared_cost_default'] }}" placeholder="{{ entry_declared_cost_default }}" id="input-declared_cost_default" class="form-control" />
											<span class="input-group-addon">{{ text_grn }}</span>
										</div>
									</div>
									<label class="col-sm-2 control-label" for="input-declared_cost_minimum"><span data-toggle="tooltip" title="{{ help_declared_cost_minimum }}">{{ entry_declared_cost_minimum }}</span></label>
									<div class="col-sm-2">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[declared_cost_minimum]" value="{{ novaposhta['declared_cost_minimum'] }}" placeholder="{{ entry_declared_cost_minimum }}" id="input-declared_cost_minimum" class="form-control" />
											<span class="input-group-addon">{{ text_grn }}</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-offset-10 col-sm-2 control-label"><a class="btn btn-default pull-right" data-toggle="collapse" href="#departure_additional_information_t_m" aria-expanded="false" aria-controls="departure_additional_information_t_m" role="button">{{ text_macros }} <i class="fa fa-angle-down" aria-hidden="true"></i></a></label>
									<div class="col-sm-12">
										<div id="departure_additional_information_t_m" class="collapse">
											<div class="panel panel-default">
												<div class="panel-body">
													<div class="col-sm-6">
														{{ text_order_template_macros }}
													</div>
													<div class="col-sm-6">
														{{ text_products_template_macros }}
													</div>
												</div>
											</div>
										</div>
									</div>
									<label class="col-sm-2 control-label" for="input-departure_description"><span data-toggle="tooltip" title="{{ help_departure_description }}">{{ entry_departure_description }}</span></label>
									<div class="col-sm-4">
										<input type="text" name="shipping_novaposhta[departure_description]" value="{{ novaposhta['departure_description'] }}" placeholder="{{ entry_departure_description }}" id="input-departure_description" class="form-control" />
									</div>
									<label class="col-sm-2 control-label" for="input-departure_additional_information"><span data-toggle="tooltip" title="{{ help_departure_additional_information }}">{{ entry_departure_additional_information }}</span></label>
									<div class="col-sm-4">
										<textarea name="shipping_novaposhta[departure_additional_information]" rows="3" id="input-departure_additional_information" class="form-control">{{ novaposhta['departure_additional_information'] }}</textarea>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-general_parameters"><span data-toggle="tooltip" title="{{ help_general_parameters }}">{{ entry_general_parameters }}</span></label>
									<div class="col-sm-2">
										<input type="checkbox" name="shipping_novaposhta[general_parameters]" id="input-general_parameters" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['general_parameters'] ? ' checked' }}>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-manual_processing"><span data-toggle="tooltip" title="{{ help_manual_processing }}">{{ entry_manual_processing }}</span></label>
									<div class="col-sm-2">
										<input type="checkbox" name="shipping_novaposhta[manual_processing]" id="input-manual_processing" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['manual_processing'] ? ' checked' }}>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-avia_delivery"><span data-toggle="tooltip" title="{{ help_avia_delivery }}">{{ entry_avia_delivery }}</span></label>
									<div class="col-sm-2">
										<input type="checkbox" name="shipping_novaposhta[avia_delivery]" id="input-avia_delivery" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['avia_delivery'] ? ' checked' }}>
									</div>
								</div>
								<legend>{{ text_default_departure_options }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-use_parameters"><span data-toggle="tooltip" title="{{ help_use_parameters }}">{{ entry_use_parameters }}</span></label>
									<div class="col-sm-10">
										<div class="btn-group" data-toggle="buttons">
											{% for k, v in use_parameters %}
												{% if k == novaposhta['use_parameters'] %}
											<label class="btn btn-default active">
												<input type="radio" name="shipping_novaposhta[use_parameters]" value="{{ k }}" id="input-use_parameters-{{ k }}" checked>{{ v }}
											</label>
												{% else %}
											<label class="btn btn-default">
												<input type="radio" name="shipping_novaposhta[use_parameters]" value="{{ k }}" id="input-use_parameters-{{ k }}">{{ v }}
											</label>
												{% endif %}
											{% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-weight"><span data-toggle="tooltip" title="{{ help_weight }}">{{ entry_weight }}</span></label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[weight]" value="{{ novaposhta['weight'] }}" placeholder="0" id="input-weight" class="form-control" />
											<span class="input-group-addon">{{ text_kg }}</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-weight_minimum"><span data-toggle="tooltip" title="{{ help_weight_minimum }}">{{ entry_weight_minimum }}</span></label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[weight_minimum]" value="{{ novaposhta['weight_minimum'] }}" placeholder="0" id="input-weight_minimum" class="form-control" />
											<span class="input-group-addon">{{ text_kg }}</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-dimensions_w"><span data-toggle="tooltip" title="{{ help_dimensions }}">{{ entry_dimensions }}</span></label>
									<div class="col-sm-3">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[dimensions_w]" value="{{ novaposhta['dimensions_w'] }}" placeholder="0" id="input-dimensions_w" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[dimensions_l]" value="{{ novaposhta['dimensions_l'] }}" placeholder="0" id="input-dimensions_l" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[dimensions_h]" value="{{ novaposhta['dimensions_h'] }}" placeholder="0" id="input-dimensions_h" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-allowance_w"><span data-toggle="tooltip" title="{{ help_allowance }}">{{ entry_allowance }}</span></label>
									<div class="col-sm-3">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[allowance_w]" value="{{ novaposhta['allowance_w'] }}" placeholder="0" id="input-allowance_w" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[allowance_l]" value="{{ novaposhta['allowance_l'] }}" placeholder="0" id="input-allowance_l" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[allowance_h]" value="{{ novaposhta['allowance_h'] }}" placeholder="0" id="input-allowance_h" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
								</div>
								<legend>{{ text_pack }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-pack"><span data-toggle="tooltip" title="{{ help_pack }}">{{ entry_pack }}</span></label>
									<div class="col-sm-10">
										<input type="checkbox" name="shipping_novaposhta[pack]" id="input-pack" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['pack'] ? ' checked' }}>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-pack_type"><span data-toggle="tooltip" title="{{ help_pack_type }}">{{ entry_pack_type }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[pack_type][]" id="input-pack_type" class="form-control selectpicker" title="{{ text_select }}" data-actions-box="true" multiple>
											{% for v in pack_types %}
												<option value="{{ v.Ref }}"{{ v.Ref in novaposhta['pack_type'] ? ' selected="selected"' }}>{{ v.Description }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-autodetection_pack_type"><span data-toggle="tooltip" title="{{ help_autodetection_pack_type }}">{{ entry_autodetection_pack_type }}</span></label>
									<div class="col-sm-10">
										<input type="checkbox" name="shipping_novaposhta[autodetection_pack_type]" id="input-autodetection_pack_type" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['autodetection_pack_type'] ? ' checked' }}>
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-payment">
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-delivery_payer"><span data-toggle="tooltip" title="{{ help_delivery_payer }}">{{ entry_delivery_payer }}</span></label>
									<div class="col-sm-10">
										<div class="btn-group" data-toggle="buttons">
											{% for v in payer_types %}
												{% if v.Ref == novaposhta['delivery_payer'] %}
											<label class="btn btn-default active">
												<input type="radio" name="shipping_novaposhta[delivery_payer]" value="{{ v.Ref }}" id="input-delivery_payer-{{ v.Ref }}" checked>{{ v.Description }}
											</label>
												{% else %}
											<label class="btn btn-default">
												<input type="radio" name="shipping_novaposhta[delivery_payer]" value="{{ v.Ref }}" id="input-delivery_payer-{{ v.Ref }}">{{ v.Description }}
											</label>
												{% endif %}
											{% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-third_person"><span data-toggle="tooltip" title="{{ help_third_person }}">{{ entry_third_person }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[third_person]" id="input-third_person" class="form-control">
											<option value="0">{{ text_select }}</option>
                                            {% for v in third_persons %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['third_person'] ? ' selected="selected"' }}>{{ v.Description }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-payment_type"><span data-toggle="tooltip" title="{{ help_payment_type }}">{{ entry_payment_type }}</span></label>
									<div class="col-sm-10">
										<div class="btn-group" data-toggle="buttons">
											{% for v in payment_types %}
												{% if v.Ref == novaposhta['payment_type'] %}
													<label class="btn btn-default active">
														<input type="radio" name="shipping_novaposhta[payment_type]" value="{{ v.Ref }}" id="input-payment_type-{{ v.Ref }}" checked>{{ v.Description }}
													</label>
												{% else %}
													<label class="btn btn-default">
														<input type="radio" name="shipping_novaposhta[payment_type]" value="{{ v.Ref }}" id="input-payment_type-{{ v.Ref }}">{{ v.Description }}
													</label>
												{% endif %}
											{% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-payment_cod"><span data-toggle="tooltip" title="{{ help_payment_cod }}">{{ entry_payment_cod }}</span></label>
									<div class="col-sm-10">
										<div class="well well-sm" style="height: 150px; overflow: auto;">
                                            {% for code, title in payment_methods %}
											<div class="checkbox">
												<label>
													<input type="checkbox" name="shipping_novaposhta[payment_cod][]" value="{{ code }}"{{ code in novaposhta['payment_cod'] ? ' checked' }} /> {{ title }}
												</label>
											</div>
                                            {% endfor %}
                                            {% for v in novaposhta['payment_cod'] %}
												{% if v is iterable %}
											<div class="checkbox">
												<label>
													<input type="checkbox" name="shipping_novaposhta[payment_cod][]" value="{{ v.code }}"{{ v.code in novaposhta['payment_cod'] ? ' checked' }} /> {{ v.name }}
													<button type="button" class="btn btn-danger btn-xs" onclick="$(this).parents('div.checkbox').remove();"><i class="fa fa-minus-circle" aria-hidden="true"></i></button>
												</label>
												<input type="hidden" name="shipping_novaposhta[payment_cod][{{ v.code }}][code]" value="{{ v.code }}" />
												<input type="hidden" name="shipping_novaposhta[payment_cod][{{ v.code }}][name]" value="{{ v.name }}" />
											</div>
												{% endif %}
                                            {% endfor %}
											<br/>
											<button type="button" class="btn btn-primary btn-sm" data-toggle="tooltip" title="{{ button_add }}" onclick="addCustomMethod('payment_cod');"><i class="fa fa-plus-circle" aria-hidden="true"></i></button>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-calculate_cod"><span data-toggle="tooltip" title="{{ help_calculate_cod }}">{{ entry_calculate_cod }}</span></label>
									<div class="col-sm-10">
										<div class="btn-group" data-toggle="buttons">
											{% for k, v in calculate_cod_types %}
												{% if k == novaposhta['calculate_cod'] %}
											<label class="btn btn-default active">
												<input type="radio" name="shipping_novaposhta[calculate_cod]" value="{{ k }}" id="input-calculate_cod-{{ k }}" checked>{{ v }}
											</label>
												{% else %}
											<label class="btn btn-default">
												<input type="radio" name="shipping_novaposhta[calculate_cod]" value="{{ k }}" id="input-calculate_cod-{{ k }}">{{ v }}
											</label>
												{% endif %}
											{% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-calculate_declared_cost_commision"><span data-toggle="tooltip" title="{{ help_calculate_declared_cost_comm }}">{{ entry_calculate_declared_cost_comm }}</span></label>
									<div class="col-sm-10">
										<div class="btn-group" data-toggle="buttons">
											{% if novaposhta['calculate_declared_cost_commision'] %}
											<label class="btn btn-default">
												<input type="radio" name="shipping_novaposhta[calculate_declared_cost_commision]" value="0" id="input-calculate_declared_cost_commision-disabled">{{ text_disabled }}
											</label>
											<label class="btn btn-default active">
												<input type="radio" name="shipping_novaposhta[calculate_declared_cost_commision]" value="1" id="input-calculate_declared_cost_commision" checked>{{ text_enabled }}
											</label>
											{% else %}
											<label class="btn btn-default active">
												<input type="radio" name="shipping_novaposhta[calculate_declared_cost_commision]" value="0" id="input-calculate_declared_cost_commision-disabled" checked>{{ text_disabled }}
											</label>
											<label class="btn btn-default">
												<input type="radio" name="shipping_novaposhta[calculate_declared_cost_commision]" value="1" id="input-calculate_declared_cost_commision">{{ text_enabled }}
											</label>
											{% endif %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-backward_delivery"><span data-toggle="tooltip" title="{{ help_backward_delivery }}">{{ entry_backward_delivery }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[backward_delivery]" id="input-payment_type" class="form-control">
											<option value="0">{{ text_select }}</option>
											<option value="N"{{ novaposhta['backward_delivery'] == 'N' ? ' selected="selected"' }}>{{ text_no_backward_delivery }}</option>
                                            {% for v in backward_delivery_types %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['backward_delivery'] ? ' selected="selected"' }}>{{ v.Description }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-backward_delivery_payer"><span data-toggle="tooltip" title="{{ help_backward_delivery_payer }}">{{ entry_backward_delivery_payer }}</span></label>
									<div class="col-sm-10">
										<div class="btn-group" data-toggle="buttons">
											{% for v in backward_delivery_payers %}
												{% if v.Ref == novaposhta['backward_delivery_payer'] %}
											<label class="btn btn-default active">
												<input type="radio" name="shipping_novaposhta[backward_delivery_payer]" value="{{ v.Ref }}" id="input-backward_delivery_payer-{{ v.Ref }}" checked>{{ v.Description }}
											</label>
												{% else %}
											<label class="btn btn-default">
												<input type="radio" name="shipping_novaposhta[backward_delivery_payer]" value="{{ v.Ref }}" id="input-backward_delivery_payer-{{ v.Ref }}">{{ v.Description }}
											</label>
												{% endif %}
											{% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-payment_control"><span data-toggle="tooltip" title="{{ help_payment_control }}">{{ entry_payment_control }}</span></label>
									<div class="col-sm-4">
										<div class="well well-sm" style="height: 150px; overflow: auto;">
											{% for code, title in totals %}
											<div class="checkbox">
												<label>
													<input type="checkbox" name="shipping_novaposhta[payment_control][]" value="{{ code }}"{{ code in novaposhta['payment_control'] ? ' checked' }} /> {{ title }}
												</label>
											</div>
                                            {% endfor %}
                                            {% for v in novaposhta['payment_control'] %}
												{% if v is iterable %}
											<div class="checkbox">
												<label>
													<input type="checkbox" name="shipping_novaposhta[payment_control][]" value="{{ v.code }}"{{ v.code in novaposhta['payment_control'] ? ' checked' }} /> {{ v.name }}
													<button type="button" class="btn btn-danger btn-xs" onclick="$(this).parents('div.checkbox').remove();"><i class="fa fa-minus-circle" aria-hidden="true"></i></button>
												</label>
												<input type="hidden" name="shipping_novaposhta[payment_control][{{ v.code }}][code]" value="{{ v.code }}" />
												<input type="hidden" name="shipping_novaposhta[payment_control][{{ v.code }}][name]" value="{{ v.name }}" />
											</div>
												{% endif %}
                                            {% endfor %}
											<br/>
											<button type="button" class="btn btn-primary btn-sm" data-toggle="tooltip" title="{{ button_add }}" onclick="addCustomMethod('payment_control');"><i class="fa fa-plus-circle" aria-hidden="true"></i></button>
										</div>
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-consignment_note">
								<legend>{{ text_consignment_note_list }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-display_all_consignments"><span data-toggle="tooltip" title="{{ help_display_all_consignments }}">{{ entry_display_all_consignments }}</span></label>
									<div class="col-sm-10">
										<input type="checkbox" name="shipping_novaposhta[display_all_consignments]" id="input-display_all_consignments" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['display_all_consignments'] ? ' checked' }}>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-consignment_displayed_information"><span data-toggle="tooltip" title="{{ help_displayed_information }}">{{ entry_displayed_information }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[consignment_displayed_information][]" id="input-consignment_displayed_information" class="form-control selectpicker" title="{{ text_select }}" data-actions-box="true" multiple>
                                            {% for k, v in consignment_displayed_information %}
												<option value="{{ k }}"{{ k in novaposhta['consignment_displayed_information'] ? ' selected="selected"' }}>{{ v }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<legend>{{ text_print_settings }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-print_format"><span data-toggle="tooltip" title="{{ help_print_format }}">{{ entry_print_format }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[print_format]" id="input-print_format" class="form-control">
                                            {% for k, v in print_formats %}
												<option value="{{ k }}"{{ k == novaposhta['print_format'] ? ' selected="selected"' }}>{{ v }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-number_of_copies"><span data-toggle="tooltip" title="{{ help_number_of_copies }}">{{ entry_number_of_copies }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[number_of_copies]" value="{{ novaposhta['number_of_copies'] }}" placeholder="{{ entry_number_of_copies }}" id="input-number_of_copies" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-template_type"><span data-toggle="tooltip" title="{{ help_template_type }}">{{ entry_template_type }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[template_type]" id="input-template_type" class="form-control">
                                            {% for k, v in template_types %}
												<option value="{{ k }}"{{ k == novaposhta['template_type'] ? ' selected="selected"' }}>{{ v }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-print_type"><span data-toggle="tooltip" title="{{ help_print_type }}">{{ entry_print_type }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[print_type]" id="input-print_type" class="form-control">
                                            {% for k, v in print_types %}
												<option value="{{ k }}"{{ k == novaposhta['print_type'] ? ' selected="selected"' }}>{{ v }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-print_start"><span data-toggle="tooltip" title="{{ help_print_start }}">{{ entry_print_start }}</span></label>
									<div class="col-sm-10">
										<div class="btn-group-vertical" id="div-vertical-1" data-toggle="buttons">
                                            {% for i in 1..6 %}
											<label class="btn btn-default{{ i == novaposhta['print_start'] ? ' active' }}">
												<input type="radio" name="shipping_novaposhta[print_start]" value="{{ i }}" id="input-print_start-{{ i }}" autocomplete="off"{{ i == novaposhta['print_start'] ? ' checked' }}>{{ i }}
											</label>
                                            {% endfor %}
										</div>
										<div class="btn-group-vertical" id="div-vertical-2" data-toggle="buttons">
                                            {% for i in 1..6 %}
												<label class="btn btn-default{{ i == novaposhta['print_start'] ? ' active' }}">
													<input type="radio" name="shipping_novaposhta[print_start]" value="{{ i }}" id="input-print_start-{{ i }}" autocomplete="off"{{ i == novaposhta['print_start'] ? ' checked' }}>{{ i }}
												</label>
                                            {% endfor %}
										</div>
									</div>
								</div>
								<legend>{{ text_integration_with_orders }}</legend>
								<div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ text_help_integration_with_orders }}</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-compatible_shipping_method"><span data-toggle="tooltip" title="{{ help_compatible_shipping_method }}">{{ entry_compatible_shipping_method }}</span></label>
									<div class="col-sm-10">
										<div class="well well-sm" style="height: 150px; overflow: auto;">
                                            {% for k, v in shipping_methods %}
											<div class="checkbox">
												<label>
													<input type="checkbox" name="shipping_novaposhta[compatible_shipping_method][]" value="{{ k }}"{{ k in novaposhta['compatible_shipping_method'] ? ' checked' }} /> {{ v }}
												</label>
											</div>
                                            {% endfor %}
                                            {% for v in novaposhta['compatible_shipping_method'] %}
												{% if v is iterable %}
											<div class="checkbox">
												<label>
													<input type="checkbox" name="shipping_novaposhta[compatible_shipping_method][]" value="{{ v.code }}"{{ v.code in novaposhta['compatible_shipping_method'] ? ' checked' }} /> {{ v.name }}
													<button type="button" class="btn btn-danger btn-xs" onclick="$(this).parents('div.checkbox').remove();"><i class="fa fa-minus-circle" aria-hidden="true"></i></button>
												</label>
												<input type="hidden" name="shipping_novaposhta[compatible_shipping_method][{{ v.code }}][code]" value="{{ v.code }}" />
												<input type="hidden" name="shipping_novaposhta[compatible_shipping_method][{{ v.code }}][name]" value="{{ v.name }}" />
											</div>
												{% endif %}
                                            {% endfor %}
											<br/>
											<button type="button" class="btn btn-primary btn-sm" data-toggle="tooltip" title="{{ button_add }}" onclick="addCustomMethod('compatible_shipping_method');"><i class="fa fa-plus-circle" aria-hidden="true"></i></button>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-consignment_create"><span data-toggle="tooltip" title="{{ help_consignment_create }}">{{ entry_consignment_create }}</span></label>
									<div class="col-sm-1">
										<input type="checkbox" name="shipping_novaposhta[consignment_create]" id="input-consignment_create" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['consignment_create'] ? ' checked' }}>
									</div>
									<label class="col-sm-1 control-label" for="input-consignment_create_text">{{ entry_menu_text }}</label>
									<div class="col-sm-8">
										<ul class="nav nav-tabs" role="tablist">
                                            {% for language in languages %}
											<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#consignment_create_text_{{ language.language_id }}" aria-controls="consignment_create_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                            {% endfor %}
										</ul>
										<div class="tab-content">
                                            {% for language in languages %}
											<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="consignment_create_text_{{ language.language_id }}">
												<input type="text" name="shipping_novaposhta[consignment_create_text][{{ language.language_id }}]" value="{{ novaposhta['consignment_create_text'][language.language_id] }}" placeholder="{{ entry_menu_text }}" class="form-control" />
											</div>
                                            {% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-consignment_edit"><span data-toggle="tooltip" title="{{ help_consignment_edit }}">{{ entry_consignment_edit }}</span></label>
									<div class="col-sm-1">
										<input type="checkbox" name="shipping_novaposhta[consignment_edit]" id="input-consignment_edit" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['consignment_edit'] ? ' checked' }}>
									</div>
									<label class="col-sm-1 control-label" for="input-consignment_edit_text">{{ entry_menu_text }}</label>
									<div class="col-sm-8">
										<ul class="nav nav-tabs" role="tablist">
                                            {% for language in languages %}
											<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#consignment_edit_text_{{ language.language_id }}" aria-controls="consignment_edit_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                            {% endfor %}
										</ul>
										<div class="tab-content">
                                            {% for language in languages %}
											<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="consignment_edit_text_{{ language.language_id }}">
												<input type="text" name="shipping_novaposhta[consignment_edit_text][{{ language.language_id }}]" value="{{ novaposhta['consignment_edit_text'][language.language_id] }}" placeholder="{{ entry_menu_text }}" class="form-control" />
											</div>
                                            {% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-consignment_delete"><span data-toggle="tooltip" title="{{ help_consignment_delete }}">{{ entry_consignment_delete }}</span></label>
									<div class="col-sm-1">
										<input type="checkbox" name="shipping_novaposhta[consignment_delete]" id="input-consignment_delete" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['consignment_delete'] ? ' checked' }}>
									</div>
									<label class="col-sm-1 control-label" for="input-consignment_delete_text">{{ entry_menu_text }}</label>
									<div class="col-sm-8">
										<ul class="nav nav-tabs" role="tablist">
                                            {% for language in languages %}
											<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#consignment_delete_text_{{ language.language_id }}" aria-controls="consignment_delete_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                            {% endfor %}
										</ul>
										<div class="tab-content">
                                            {% for language in languages %}
											<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="consignment_delete_text_{{ language.language_id }}">
												<input type="text" name="shipping_novaposhta[consignment_delete_text][{{ language.language_id }}]" value="{{ novaposhta['consignment_delete_text'][language.language_id] }}" placeholder="{{ entry_menu_text }}" class="form-control" />
											</div>
                                            {% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-consignment_assignment_to_order"><span data-toggle="tooltip" title="{{ help_consignment_assignment_to_order }}">{{ entry_consignment_assignment_to_order }}</span></label>
									<div class="col-sm-1">
										<input type="checkbox" name="shipping_novaposhta[consignment_assignment_to_order]" id="input-consignment_assignment_to_order" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-onstyle="success" data-offstyle="danger"{{ novaposhta['consignment_assignment_to_order'] ? ' checked' }}>
									</div>
									<label class="col-sm-1 control-label" for="input-consignment_assignment_to_order_text">{{ entry_menu_text }}</label>
									<div class="col-sm-8">
										<ul class="nav nav-tabs" role="tablist">
                                            {% for language in languages %}
											<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#consignment_assignment_to_order_text_{{ language.language_id }}" aria-controls="consignment_assignment_to_order_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                            {% endfor %}
										</ul>
										<div class="tab-content">
                                            {% for language in languages %}
											<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="consignment_assignment_to_order_text_{{ language.language_id }}">
												<input type="text" name="shipping_novaposhta[consignment_assignment_to_order_text][{{ language.language_id }}]" value="{{ novaposhta['consignment_assignment_to_order_text'][language.language_id] }}" placeholder="{{ entry_menu_text }}" class="form-control" />
											</div>
                                            {% endfor %}
										</div>
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-cron">
								<div class="alert alert-info" role="alert"><i class="fa fa-info-circle" aria-hidden="true"></i> {{ text_help_cron }}</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-key_cron"><span data-toggle="tooltip" title="{{ help_key_cron }}">{{ entry_key_cron }}</span></label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[key_cron]" value="{{ novaposhta['key_cron'] }}" placeholder="{{ entry_key_cron }}" id="input-key_cron" class="form-control" />
											<span class="input-group-btn">
												<button id="button-generate-cron-key" onclick="generateKey();" type="button" class="btn btn-info" data-toggle="tooltip" title="{{ button_generate }}"><i class="fa fa-cog"></i></button>
											</span>
										</div>
									</div>
								</div>
								<legend>{{ text_base_update }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-cron_update_regions">{{ entry_region }}</label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" value="{{ cron_update_regions }}"  id="input-cron_update_regions" class="form-control" readonly />
											<span class="input-group-btn">
												<button class="btn btn-default" type="button" data-toggle="tooltip" title="{{ button_copy }}" onclick="copyToClipboard('input-cron_update_regions');"><i class="fa fa-files-o" aria-hidden="true"></i></button>
											</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-cron_update_cities">{{ entry_city }}</label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" value="{{ cron_update_cities }}"  id="input-cron_update_cities" class="form-control" readonly />
											<span class="input-group-btn">
												<button class="btn btn-default" type="button" data-toggle="tooltip" title="{{ button_copy }}" onclick="copyToClipboard('input-cron_update_cities');"><i class="fa fa-files-o" aria-hidden="true"></i></button>
											</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-cron_update_departments">{{ entry_department }}</label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" value="{{ cron_update_departments }}"  id="input-cron_update_departments" class="form-control" readonly />
											<span class="input-group-btn">
												<button class="btn btn-default" type="button" data-toggle="tooltip" title="{{ button_copy }}" onclick="copyToClipboard('input-cron_update_departments');"><i class="fa fa-files-o" aria-hidden="true"></i></button>
											</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-cron_update_references">{{ entry_references }}</label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" value="{{ cron_update_references }}"  id="input-cron_update_references" class="form-control" readonly />
											<span class="input-group-btn">
												<button class="btn btn-default" type="button" data-toggle="tooltip" title="{{ button_copy }}" onclick="copyToClipboard('input-cron_update_references');"><i class="fa fa-files-o" aria-hidden="true"></i></button>
											</span>
										</div>
									</div>
								</div>
								<legend>{{ text_departures_tracking }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-cron_departures_tracking">{{ entry_departures_tracking }}</label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" value="{{ cron_departures_tracking }}"  id="input-cron_departures_tracking" class="form-control" readonly />
											<span class="input-group-btn">
												<button class="btn btn-default" type="button" data-toggle="tooltip" title="{{ button_copy }}" onclick="copyToClipboard('input-cron_departures_tracking');"><i class="fa fa-files-o" aria-hidden="true"></i></button>
												<a href="{{ cron_departures_tracking_href }}" class="btn btn-default" role="button" data-toggle="tooltip" title="{{ button_run }}" target="_blank"><i class="fa fa-terminal" aria-hidden="true"></i></a>
											</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-tracking_statuses"><span data-toggle="tooltip" title="{{ help_tracking_statuses }}">{{ entry_tracking_statuses }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[tracking_statuses][]" id="input-tracking_statuses" class="form-control selectpicker" title="{{ text_select }}" data-actions-box="true" multiple>
											{%  for order_status in order_statuses %}
												<option value="{{ order_status.order_status_id }}"{{ order_status.order_status_id in novaposhta['tracking_statuses'] ? ' selected="selected"' }}>{{ order_status.name }}</option>
											{% endfor %}
										</select>
									</div>
								</div>
								<a class="btn btn-default pull-right" data-toggle="collapse" href="#message-macros-collapse" aria-expanded="false" aria-controls="message-macros-collapse" role="button">{{ text_message_template_macros }} <i class="fa fa-angle-down" aria-hidden="true"></i></a>
								<div class="clearfix"></div>
								<div id="message-macros-collapse" class="collapse">
									<div class="panel panel-default">
										<div class="panel-body">
											<div class="col-sm-4">
												{{ text_cn_template_macros }}
											</div>
											<div class="col-sm-4">
												{{ text_order_template_macros }}
											</div>
											<div class="col-sm-4">
												{{ text_products_template_macros }}
											</div>
										</div>
									</div>
								</div>
								<div class="panel panel-default">
									<div class="panel-heading">
										<h3 class="panel-title">{{ text_settings_departures_statuses }}</h3>
									</div>
									<div class="table-responsive">
										<table class="table table-bordered table-hover" id="table-tracking_statuses">
											<thead>
												<tr>
													<td class="text-center" width="15%">{{ column_postal_company_status }}</td>
													<td class="text-center">{{ column_store_status }}</td>
													<td class="text-center">{{ column_implementation_delay }}</td>
													<td class="text-center">{{ column_notification }}</td>
													<td class="text-center" width="40%">{{ column_message_template }}</td>
													<td class="text-center">{{ column_action }}</td>
												</tr>
											</thead>
											<tbody>
											{% for settings in novaposhta['settings_tracking_statuses'] %}
												<tr>
													<td>
														<select name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][shipment_statuses][]" class="form-control selectpicker" title="{{ text_select }}" data-width="250px" data-dropup-auto="false" multiple>
                                                            {% for document_status in document_statuses %}
																<option value="{{ document_status.StatusId }}"{{ document_status.StatusId in settings.shipment_statuses ? ' selected="selected"' }}>{{ document_status.Description }}</option>
															{% endfor %}
														</select>
													</td>
													<td>
														<select name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][store_status]" class="form-control">
                                                            {% for order_status in order_statuses %}
																<option value="{{ order_status.order_status_id }}"{{ order_status.order_status_id == settings.store_status ? ' selected="selected"' }}>{{ order_status.name }}</option>
                                                            {% endfor %}
														</select>
													</td>
													<td>
														<div class="input-group">
															<span class="input-group-btn" style="width: 50%;">
																<select name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][implementation_delay][type]" class="form-control">
																	{% for k, v in time %}
																		<option value="{{ k }}"{{ k == settings.implementation_delay.type ? ' selected="selected"' }}>{{ v }}</option>
                                                                    {% endfor %}
																</select>
															</span><input type="text" name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][implementation_delay][value]" value="{{ settings.implementation_delay.value }}" class="form-control" />
														</div>
													</td>
													<td>
														<div class="form-group">
															<label class="col-sm-8 control-label">{{ entry_admin_notification }}</label>
															<div class="col-sm-4">
																<input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][admin_notification]" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-size="mini" data-onstyle="success" data-offstyle="danger"{{ settings.admin_notification ? ' checked' }}>
															</div>
														</div>
														<div class="form-group">
															<label class="col-sm-8 control-label">{{ entry_customer_notification }}</label>
															<div class="col-sm-4">
																<input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][customer_notification]" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-size="mini" data-onstyle="success" data-offstyle="danger"{{ settings.customer_notification ? ' checked' }}>
															</div>
														</div>
														<div class="form-group">
															<label class="col-sm-8 control-label">{{ entry_customer_notification_default }}</label>
															<div class="col-sm-4">
																<input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][customer_notification_default]" data-on="<i class='fa fa-check'></i>" data-off="<i class='fa fa-times'></i>" data-toggle="toggle" data-size="mini" data-onstyle="success" data-offstyle="danger"{{ settings.customer_notification_default ? ' checked' }}>
															</div>
														</div>
													</td>
													<td>
														<div class="form-group">
															<label class="col-sm-2 control-label">{{ entry_email }}</label>
															<div class="col-sm-10">
																<ul class="nav nav-tabs" role="tablist">
                                                                    {% for language in languages %}
																	<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#tracking_statuses_email_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}" aria-controls="tracking_statuses_email_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                                                    {% endfor %}
																</ul>
																<div class="tab-content">
                                                                    {% for language in languages %}
																	<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="tracking_statuses_email_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}">
																		<textarea name="shipping_novaposhta[settings_tracking_statuses][{{ loop.parent.loop.index0 }}][email][{{ language.language_id }}]" placeholder="{{ entry_email }}"class="form-control summernote">{{ novaposhta['settings_tracking_statuses'][loop.parent.loop.index0]['email'][language.language_id] }}</textarea>
																	</div>
                                                                    {% endfor %}
																</div>
															</div>
														</div>
														<div class="form-group">
															<label class="col-sm-2 control-label">{{ entry_sms }}</label>
															<div class="col-sm-10">
																<ul class="nav nav-tabs" role="tablist">
                                                                    {% for language in languages %}
																	<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#tracking_statuses_sms_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}" aria-controls="tracking_statuses_sms_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                                                    {% endfor %}
																</ul>
																<div class="tab-content">
																	{% for language in languages %}
																	<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="tracking_statuses_sms_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}">
																		<textarea name="shipping_novaposhta[settings_tracking_statuses][{{ loop.parent.loop.index0 }}][sms][{{ language.language_id }}]" placeholder="{{ entry_sms }}"class="form-control">{{ novaposhta['settings_tracking_statuses'][loop.parent.loop.index0]['sms'][language.language_id] }}</textarea>
																	</div>
                                                                    {% endfor %}
																</div>
															</div>
														</div>
													</td>
													<td class="text-center"><button type="button" onclick="$(this).parents('tr').remove()" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
												</tr>
                                            {% endfor %}
											</tbody>
											<tfoot>
												<tr>
													<td colspan="5"></td>
													<td class="text-center"><button type="button" onclick="addTrackingStatus();" data-toggle="modal" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
												</tr>
											</tfoot>
										</table>
									</div>
								</div>
							</div>
                        {% endif %}
							<div class="tab-pane fade{{ not license ? ' in active' }}" id="tab-support">
								{{ support }}
							</div>
						</div>
					<!-- Modal of API verifying START -->
					<div class="modal fade" id="modal-verifying_api_access" tabindex="-1" role="dialog" aria-labelledby="modal-verifying_api_access-label">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
									<h4 class="modal-title" id="modal-verifying_api_access-label">{{ heading_verifying_api_access }}</h4>
								</div>
								<div class="modal-body">
									<div class="well" id="verifying_api_access-log"></div>
									<p class="text-center"><i class="fa fa-cog fa-spin fa-3x text-primary" id="verifying_api_access-icon"></i></p>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-primary" data-dismiss="modal"><i class="fa fa-check"></i></button>
								</div>
							</div>
						</div>
					</div>
					<!-- Modal of API verifying END -->
					<!-- Modal of custom total START -->
					<div class="modal fade" id="modal-custom-method" tabindex="-1" role="dialog" aria-labelledby="modal-custom-method-label">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
									<h4 class="modal-title" id="modal-custom-method-label">{{ heading_adding_custom_method }}</h4>
								</div>
								<div class="modal-body">
									<input type="hidden" name="custom_method_type" value="" id="input-custom-method-type" />
									<div class="form-group">
										<label class="col-sm-2 control-label" for="input-custom-method-name">{{ entry_name }}</label>
										<div class="col-sm-10">
											<input type="text" name="custom_method_name" value="" placeholder="{{ entry_name }}" id="input-custom-method-name" class="form-control" />
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label" for="input-custom-method-code">{{ entry_code }}</label>
										<div class="col-sm-10">
											<input type="text" name="custom_method_code" value="" placeholder="{{ entry_code }}" id="input-custom-method-code" class="form-control" />
										</div>
									</div>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-primary" onclick="addCustomMethod('save');"><i class="fa fa-check"></i></button>
									<button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i></button>
								</div>
							</div>
						</div>
					</div>
					<!-- Modal of custom total END-->
        		</form>
				<form action="{{ action_settings }}&type=import" method="post" enctype="multipart/form-data" style="display: none;">
					<input type="file" name="import" accept="text/plain" id="input-import-settings" onchange="this.form.submit();">
				</form>
      		</div>
    	</div>
  	</div>
</div>
<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.2/summernote.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.2/summernote.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/i18n/defaults-{{ translations_code }}.min.js"></script>
<script type="text/javascript"><!--
	function save(type) {
		var post_data = $('#form-novaposhta').serialize() + '&store_id=' + $('#input-store_id').val();

		$('div.toggle input[type="checkbox"]:not(:checked)').each(function(i, el) {
			post_data += '&' + el.name + '='
		});

		if (type === 'exit') {
			post_data += '&exit'
		}

		$.ajax({
			url: 'index.php?route=extension/shipping/novaposhta&user_token={{ user_token }}',
			type: 'POST',
			data: post_data,
			dataType: 'html',
			beforeSend: function () {
				$('body').fadeTo('fast', 0.7).prepend('<div id="ocmax-loader" style="position: fixed; top: 50%;	left: 50%; z-index: 9999;"><i class="fa fa-clock-o fa-spin fa-3x fa-fw"></i></div>');
			},
			complete: function () {
				var $alerts = $('.alert-danger, .alert-success');

				if ($alerts.length !== 0) {
					setTimeout(function() { $alerts.fadeOut(); },5000);
				}

				$('body').fadeTo('fast', 1);
				$('#ocmax-loader').remove();
			},
			success: function (data, textStatus, jqXHR) {
				var $data = $(data);

				if ($data.find('div.alert-danger').length) {
					$('.container-fluid:eq(2)').prepend($data.find('div.alert-danger'));
				} else {
					if (type === 'exit') {
						location.href = 'index.php?route=marketplace/extension&user_token={{ user_token }}&type=shipping';
					}
				}

				if ($data.find('div.text-danger').length) {
					$data.find('div.text-danger').each(function(i, el) {
						var id = '#' + $(el).parents('div[class^="col-sm"]:first').find('input, select, textarea, radio').attr('id');

						$(id).parents('div[class^="col-sm"]:first').append(el);
						$(id).parents('div.form-group').addClass('has-error');
					});
				}

				if ($data.find('div.alert-success').length) {
					$('.container-fluid:eq(2)').prepend($data.find('div.alert-success'));
				}
			}
		});
	}

	function settings(type) {
		if (!confirm('{{ text_confirm }}')) {
			return false;
		}

		if (type == 'basic') {
			$.ajax({
				url: 'index.php?route=extension/shipping/novaposhta/extensionSettings&user_token={{ user_token }}&type=' + type,
				type: 'GET',
				dataType: 'json',
				beforeSend: function () {
					$('body').fadeTo('fast', 0.7).prepend('<div id="ocmax-loader" style="position: fixed; top: 50%;	left: 50%; z-index: 9999;"><i class="fa fa-clock-o fa-spin fa-3x fa-fw"></i></div>');
				},
				complete: function () {
					var $alerts = $('.alert-danger, .alert-success');

					if ($alerts.length !== 0) {
						setTimeout(function() { $alerts.fadeOut(); },5000);
					}

					$('body').fadeTo('fast', 1);
					$('#ocmax-loader').remove();
				},
				success: function (json) {
					if (json['success']) {
						$('.container-fluid:eq(2)').prepend('<div class="alert alert-success"><i class="fa fa-check-circle"></i> ' + json['success'] + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');

						setTimeout(function() { location.reload(); }, 2000);
					}

					if(json['error']) {
						$('.container-fluid:eq(2)').prepend('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> ' + json['error'] + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
					}

					$('html, body').animate({ scrollTop: 0 }, 'slow');
				}
			});
		} else if (type == 'export') {
			location.href = 'index.php?route=extension/shipping/novaposhta/extensionSettings&user_token={{ user_token }}&type=' + type;
		} else if (type == 'import') {
			$('#input-import-settings').trigger('click');
		}
	}

	function formHandler(element) {
		switch (element.id) {
			case 'input-key_api':
				var key_api = element.value;

				$('#modal-verifying_api_access').modal('show');

				$('#verifying_api_access-icon').addClass('fa-spin');
				$('#verifying_api_access-log').empty().append('<p>{{ text_verifying_api_access }} <i class="fa fa-circle-o-notch fa-spin"></i></p>');

			function action(act) {
				$.ajax({
					url: 'index.php?route=extension/shipping/novaposhta/verifyingAPIaccess&user_token={{ user_token }}',
					type: 'POST',
					data: 'action=' + act + '&key=' + key_api,
					dataType: 'json',
					success: function(json) {
						if (json['error']) {
							$('#verifying_api_access-log').find('i:last').replaceWith('<i class="fa fa-exclamation-circle text-danger"></i>');
							$('#verifying_api_access-icon').removeClass('fa-spin');

							for(var e in json['error']) {
								$('#verifying_api_access-log').append('<p class="text-danger">' + json['error'][e] + '</p>');
							}
						}

						if (json['next_action']) {
							$('#verifying_api_access-log').find('i').replaceWith('<i class="fa fa-check text-success" aria-hidden="true"></i>');
							$('#verifying_api_access-log').append('<p>' + json['next_action_text'] + ' <i class="fa fa-circle-o-notch fa-spin"></i></p>');

							if (json['next_action'] == 'saving') {
								$('#verifying_api_access-icon').removeClass('fa-spin');

								if (json['recipient']) {
									$('#input-recipient').val(json['recipient']);
								}

								save();

								setTimeout(function() {
											$('#modal-verifying_api_access').modal('hide');

											location.reload();
										},
										2000
								);
							} else {
								action(json['next_action']);
							}
						}
					}
				});
			}

				action('check');

				break;

			case 'input-department_cost':
			case 'input-doors_cost':
			case 'input-poshtomat_cost':
			case 'input-calculate_volume':
				if ($(element).is(':checked')) {
					$(element).parent().parent().nextAll().fadeIn();
				} else {
					$(element).parent().parent().nextAll().fadeOut();
				}

				break;

			case 'input-sender':
				$.ajax({
					url: 'index.php?route=extension/shipping/novaposhta/getNPData&user_token={{ user_token }}',
					type: 'POST',
					data: 'action=getSenderContactPersons&filter=' + element.value,
					dataType: 'json',
					beforeSend: function () {
						$('#input-sender_contact_person').parent().css('position', 'relative').prepend('<div id="ocmax-loader-sender_contact_person" style="position: absolute; left: 50%; top: 50%; transform: translateY(-50%); z-index: 9999;"><i class="fa fa-clock-o fa-spin fa-lg fa-fw" aria-hidden="true"></i></div>');
					},
					complete: function () {
						$('#ocmax-loader-sender_contact_person').remove();
					},
					success: function (json) {
						var
								html = '<option value="">{{ text_select }}</option>',
								checked = "{{ novaposhta['sender_contact_person'] }}";

						for (var i in json) {
							if (json[i]['Ref'] == checked) {
								html += '<option value="' + json[i]['Ref'] + '" selected="selected">' + json[i]['Description'] + ', ' + json[i]['Phones'] + '</option>';
							} else {
								html += '<option value="' + json[i]['Ref'] + '">' + json[i]['Description'] + ', ' + json[i]['Phones'] + '</option>';
							}
						}

						$('#input-sender_contact_person').html(html).selectpicker('refresh').trigger('change');
					}
				});

				break;

			case 'input-sender_region':
				$.ajax({
					url: 'index.php?route=extension/shipping/novaposhta/getNPData&user_token={{ user_token }}',
					type: 'POST',
					data: 'action=getCities&filter=' + encodeURIComponent(element.value),
					dataType: 'json',
					beforeSend: function () {
						$('#input-sender_city').parent().css('position', 'relative').prepend('<div id="ocmax-loader-sender_city" style="position: absolute; left: 50%; top: 50%; transform: translateY(-50%); z-index: 9999;"><i class="fa fa-clock-o fa-spin fa-lg fa-fw" aria-hidden="true"></i></div>');
					},
					complete: function () {
						$('#ocmax-loader-sender_city').remove();
					},
					success: function (json) {
						if (json instanceof Array) {
							var
									html = '<option value="">{{ text_select }}</option>',
									subtext,
									option_s;

							for(var i in json) {
								if (!element.value) {
									subtext = ' data-subtext="' + json[i]['region_description'] + '"';
								} else {
									subtext = '';
								}

								if (json[i]['Ref'] == '{{ novaposhta["sender_city"] }}') {
									option_s = ' selected="selected"';
								} else {
									option_s = '';
								}

								html += '<option value="' + json[i]['Ref'] + '"' + subtext + option_s + '>' + json[i]['description'] + '</option>'
							}

							$('#input-sender_city').html(html).selectpicker('refresh').trigger('change');
						}
					}
				});

				break;

			case 'input-sender_city':
				$.ajax({
					url: 'index.php?route=extension/shipping/novaposhta/getNPData&user_token={{ user_token }}',
					type: 'POST',
					data: 'action=getDepartments&filter=' + encodeURIComponent(element.value),
					dataType: 'json',
					beforeSend: function () {
						$('#input-sender_department').parent().css('position', 'relative').prepend('<div id="ocmax-loader-sender_department" style="position: absolute; left: 50%; top: 50%; transform: translateY(-50%); z-index: 9999;"><i class="fa fa-clock-o fa-spin fa-lg fa-fw" aria-hidden="true"></i></div>');
					},
					complete: function () {
						$('#ocmax-loader-sender_department').remove();
					},
					success: function (json) {
						if (json instanceof Array || json instanceof Object) {
							var
									option_s,
									html = '<option value="">{{ text_select }}</option>';

							for(var i in json) {
								if (json[i]['Ref'] == '{{ novaposhta["sender_department"] }}') {
									option_s = ' selected="selected"';
								} else {
									option_s = '';
								}

								html += '<option data-tokens="' + json[i]['Number'] + '" value="' + json[i]['Ref'] + '"' + option_s + '>' + json[i]['description'] + '</option>'
							}

							$('#input-sender_department').html(html).selectpicker('refresh').trigger('change');
						}
					}
				});

				$.ajax({
					url: 'index.php?route=extension/shipping/novaposhta/getNPData&user_token={{ user_token }}',
					type: 'POST',
					data: 'action=getAddress&filter=' + encodeURIComponent(element.value) + '&sender=' + encodeURIComponent($('#input-sender').val()),
					dataType: 'json',
					beforeSend: function () {
						$('#input-sender_address').parent().css('position', 'relative').prepend('<div id="ocmax-loader-sender_address" style="position: absolute; left: 50%; top: 50%; transform: translateY(-50%); z-index: 9999;"><i class="fa fa-clock-o fa-spin fa-lg fa-fw" aria-hidden="true"></i></div>');
					},
					complete: function () {
						$('#ocmax-loader-sender_address').remove();
					},
					success: function (json) {
						if (json instanceof Array || json instanceof Object) {
							var
									option_s,
									html = '<option value="">{{ text_select }}</option>';

							for(var i in json) {
								if (json[i]['Ref'] == '{{ novaposhta["sender_address"] }}') {
									option_s = ' selected="selected"';
								} else {
									option_s = '';
								}

								html += '<option value="' + json[i]['Ref'] + '"' + option_s + '>' + json[i]['description'] + '</option>'
							}

							$('#input-sender_address').html(html).selectpicker('refresh').trigger('change');
						}
					}
				});

				break;

			case 'input-sender_address_pick_up':
				if ($(element).is(':checked')) {
					$('label[for="input-sender_department"]').parent().fadeOut();
					$('label[for="input-sender_address"]').parent().fadeIn();
					$('#input-sender_address_type').val('Doors');
				} else {
					$('label[for="input-sender_department"]').parent().fadeIn();
					$('label[for="input-sender_address"]').parent().fadeOut();
					$('#input-sender_address_type').val('Warehouse');
				}

				break;

			case 'input-recipient_name':
				$('#input-recipient').val('');

				break;

			case 'input-autodetection_departure_type':
				if ($(element).is(':checked')) {
					$(element).parent().parent().nextAll().fadeOut();
				} else {
					$(element).parent().parent().nextAll().fadeIn();
				}

				break;

			case 'input-print_format':
			case 'input-template_type':
				var
						print_format = $('#input-print_format').val(),
						template_type = $('#input-template_type').val();

				if (print_format == 'mark_85_85' || print_format == 'mark_100_100') {
					$('#input-number_of_copies, #input-template_type').parents('div.form-group').fadeIn();

					if (template_type == 'html') {
						$('#input-print_type, input[id^="input-print_start"]').parents('div.form-group').fadeIn();
					} else {
						$('#input-print_type, input[id^="input-print_start"]').parents('div.form-group').fadeOut();
					}
				} else if (print_format == 'registry') {
					$('#input-number_of_copies, #input-print_type, input[id^="input-print_start"]').parents('div.form-group').fadeOut();
				} else {
					$('#input-number_of_copies, #input-template_type').parents('div.form-group').fadeIn();
					$('#input-print_type, input[id^="input-print_start"]').parents('div.form-group').fadeOut();
				}

				break;

			case 'input-print_type':
				var
						$print_start_1 = $('#div-vertical-1'),
						$print_start_2 = $('#div-vertical-2')

				if (element.value == 'horPrint') {
					$print_start_1.find('label:odd').hide();
					$print_start_1.find('label:even').show();
					$print_start_2.find('label:odd').show();
					$print_start_2.find('label:even').hide();
				} else {
					$print_start_1.find('label:lt(3)').show();
					$print_start_1.find('label:gt(2)').hide();
					$print_start_2.find('label:lt(3)').hide();
					$print_start_2.find('label:gt(2)').show();
				}

				break;
		}
	}

	function update(type) {
		$.ajax({
			url: 'index.php?route=extension/shipping/novaposhta/update&type=' + type + '&user_token={{ user_token }}',
			dataType: 'json',
			beforeSend: function () {
				$('#button-update_' + type + ' > i').addClass('fa-spin');
			},
			complete: function () {
				var $alerts = $('.alert-danger, .alert-success');

				$('#button-update_' + type + ' > i').removeClass('fa-spin');

				if ($alerts.length !== 0) {
					setTimeout(function() { $alerts.fadeOut(); },5000);
				}
			},
			success: function (json) {
				if(json['success']) {
					var diff = json['amount'] - $('#td-' + type + '_amount').text();

					$('.container-fluid:eq(2)').prepend('<div class="alert alert-success"><i class="fa fa-check-circle"></i> ' + json['success'] + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');

					if (diff > 0) {
						$('#td-' + type + '_amount').append(' <span class="label label-success">+' + diff + '</span>');
					} else if (diff < 0) {
						$('#td-' + type + '_amount').append(' <span class="label label-danger">' + diff + '</span>');
					}
				}

				if(json['error']) {
					$('.container-fluid:eq(2)').prepend('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> ' + json['error'] + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
				}

				$('html, body').animate({ scrollTop: 0 }, 'slow');
			}
		});
	}

	function addCustomMethod(type) {
		if (type != 'save') {
			$('#input-custom-method-type').val(type);
			$('#modal-custom-method').modal('show');
		} else {
			var
					method_type = $('#input-custom-method-type').val(),
					method_name = $('#input-custom-method-name').val(),
					method_code = $('#input-custom-method-code').val();

			$('label[for=input-' + method_type + '] + div').find('br').before('<div class="checkbox"><label><input type="hidden" name="shipping_novaposhta[' + method_type + '][' + method_code + '][code]" value="' + method_code + '" /><input type="hidden" name="shipping_novaposhta[' + method_type + '][' + method_code + '][name]" value="' + method_name + '" /><input type="checkbox" name="shipping_novaposhta[' + method_type + '][]" value="' + method_code + '" /> ' + method_name + ' <button type="button" class="btn btn-danger btn-xs" onclick="$(this).parents(\'div.checkbox\').remove();"><i class="fa fa-minus-circle" aria-hidden="true"></i></button></label></div>');
		}
	}

	function addTariff(tariff_name) {
		var
				count = $('#table-tariffs-' + tariff_name + ' tbody tr').length + 1,
				row = '<tr>';

		if (tariff_name == 'cod') {
			row += '<td><select name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][delivery_type]" class="form-control">{% for v in delivery_types %}<option value="{{ v.id }}">{{ v.Description }}</option>{% endfor %}</select></td>';
			row += '<td><select name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][calculation_base][]" class="form-control selectpicker" title="{{ text_select }}" multiple data-actions-box="true">{% for v in totals %}<option value="{{ loop.index0 }}">{{ v }}</option>{% endfor %}</select></td>';
			row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][tariff_limit]" value="" class="form-control" /></td>';
			row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][percent]" value="" class="form-control" /></td>';
			row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][fixed_amount]" value="" class="form-control" /></td>';
			row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][minimum_payment]" value="" class="form-control" /></td>';
			row += '<td class="text-center"><button type="button" onclick="$(this).parents(\'tr\').remove();" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
		} else {
			row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][weight]" value="" class="form-control" /></td>';
			row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][department]" value="" class="form-control" /></td>';
			row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][city]" value="" class="form-control" /></td>';
			row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][region]" value="" class="form-control" /></td>';
			row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][Ukraine]" value="" class="form-control" /></td>';
			row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][overpay_doors_pickup]" value="" class="form-control" /></td>';
			row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][overpay_doors_delivery]" value="" class="form-control" /></td>';
			row += '<td class="text-center"><button type="button" onclick="$(this).parents(\'tr\').remove();" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
		}

		row += '</tr>';

		$('#table-tariffs-' + tariff_name + ' tbody').append(row);

		$('#table-tariffs-' + tariff_name + ' tbody tr:last select.selectpicker').selectpicker('refresh');
	}

	function addTrackingStatus() {
		var
				count = $('#table-tracking_statuses tbody tr').length,
				row = '<tr>';

		row += '<td><select name="shipping_novaposhta[settings_tracking_statuses][' + count + '][shipment_statuses][]" class="form-control selectpicker" title="{{ text_select }}" data-width="250px" data-dropup-auto="false" multiple>{% for document_status in document_statuses %}<option value="{{ document_status.StatusId }}">{{ document_status.Description }}</option>{% endfor %}</select></td>';
		row += '<td><select name="shipping_novaposhta[settings_tracking_statuses][' + count + '][store_status]" class="form-control">{% for order_status in order_statuses %}<option value="{{ order_status.order_status_id }}">{{ order_status.name|e }}</option>{% endfor %}</select></td>';
		row += '<td><div class="input-group"><span class="input-group-btn" style="width: 50%;"><select name="shipping_novaposhta[settings_tracking_statuses][' + count + '][implementation_delay][type]" class="form-control">{% for k, v in time %}<option value="{{ k }}">{{ v }}</option>{% endfor %}</select></span><input type="text" name="shipping_novaposhta[settings_tracking_statuses][' + count + '][implementation_delay][value]" value="" class="form-control" /></div></td>';
		row += '<td><div class="row"><label class="col-sm-8">{{ entry_admin_notification }}</label><div class="col-sm-4"><input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][' + count + '][admin_notification]" data-on="<i class=\'fa fa-check\'></i>" data-off="<i class=\'fa fa-times\'></i>" data-toggle="toggle" data-size="mini" data-onstyle="success" data-offstyle="danger"></div></div><hr><div class="form-group"><label class="col-sm-8">{{ entry_customer_notification }}</label><div class="col-sm-4"><input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][' + count + '][customer_notification]" data-on="<i class=\'fa fa-check\'></i>" data-off="<i class=\'fa fa-times\'></i>" data-toggle="toggle" data-size="mini" data-onstyle="success" data-offstyle="danger"></div></div><hr><div class="row"><label class="col-sm-8">{{ entry_customer_notification_default }}</label><div class="col-sm-4"><input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][' + count + '][customer_notification_default]" data-on="<i class=\'fa fa-check\'></i>" data-off="<i class=\'fa fa-times\'></i>" data-toggle="toggle" data-size="mini" data-onstyle="success" data-offstyle="danger"></div></div></td>';
		row += '<td><div class="form-group"><label class="col-sm-2 control-label">{{ entry_email }}</label><div class="col-sm-10"><ul class="nav nav-tabs" role="tablist">{% for language in languages %}<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#tracking_statuses_email_' + count + '_{{ language.language_id }}" aria-controls="tracking_statuses_email_' + count + '_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>{% endfor %} </ul><div class="tab-content">{% for language in languages %}<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="tracking_statuses_email_' + count + '_{{ language.language_id }}"><textarea name="shipping_novaposhta[settings_tracking_statuses][' + count + '][email][{{ language.language_id }}]" placeholder="{{ entry_email }}" class="form-control summernote"></textarea></div>{% endfor %}</div></div></div><div class="form-group"><label class="col-sm-2 control-label">{{ entry_sms }}</label><div class="col-sm-10"><ul class="nav nav-tabs" role="tablist">{% for language in languages %}<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#tracking_statuses_sms_' + count + '_{{ language.language_id }}" aria-controls="tracking_statuses_sms_' + count + '_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>{% endfor %} </ul><div class="tab-content">{% for language in languages %}<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="tracking_statuses_sms_' + count + '_{{ language.language_id }}"><textarea name="shipping_novaposhta[settings_tracking_statuses][' + count + '][sms][{{ language.language_id }}]" placeholder="{{ entry_sms }}"class="form-control"></textarea></div>{% endfor %}</div></div></div></td>';
		row += '<td class="text-center"><button type="button" onclick="$(this).parents(\'tr\').remove();" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
		row += '</tr>';

		$('#table-tracking_statuses tbody').append(row);

		$('#table-tracking_statuses tbody tr:last select.selectpicker').selectpicker('refresh');
		$('#table-tracking_statuses tbody tr:last input[type="checkbox"]').bootstrapToggle();
		$('#table-tracking_statuses tbody tr:last textarea.summernote').summernote();
	}

	function generateKey() {
		$.ajax({
			url: 'index.php?route=extension/shipping/novaposhta/generateKey&user_token={{ user_token }}',
			dataType: 'json',
			beforeSend: function () {
				$('#button-generate-cron-key > i').addClass('fa-spin');
			},
			complete: function () {
				$('#button-generate-cron-key > i').removeClass('fa-spin');
			},
			success: function (json) {
				if (json['code']) {
					$('#input-key_cron').val(json['code'])
				}
			}
		});
	}

	function copyToClipboard(container_id) {
		window.getSelection().removeAllRanges();

		if (document.selection) {
			var
					range = document.body.createTextRange(),
					el = document.getElementById(container_id);

			range.moveToElementText(el);
			range.select().createTextRange();
			document.execCommand('Copy');
		} else if (window.getSelection) {
			var
					range = document.createRange(),
					el = document.getElementById(container_id);

			range.selectNode(el);
			window.getSelection().addRange(range);
			document.execCommand('Copy');
		}
	}

	$(function() {
		$('.selectpicker').selectpicker({
			liveSearchStyle: 'startsWith',
			iconBase: 'fa',
			tickIcon: 'fa-check'
		});

		$('.summernote').summernote();

		$.ajaxSetup({
			error: function (jqXHR, textStatus, errorThrown) {
				console.log(textStatus);
			}
		});

		$('#input-department_cost, #input-doors_cost, #input-poshtomat_cost, #input-sender_region, #input-sender_address_pick_up, #input-autodetection_departure_type, #input-calculate_volume, #input-print_format, #input-print_type').each(function() {
			formHandler(this);
		});

		$('input, select, textarea').on('change', function(e) {
			formHandler(e.currentTarget);
		});

		$('#div-vertical-1, #div-vertical-2').on('click', function (e) {
			$('#div-vertical-1, #div-vertical-2').not('#' + e.currentTarget.id).find('label').removeClass('active').find('input').removeAttr('checked');
		});

		/* Recipient */
		$('#input-recipient_name').autocomplete({
			source: function(request, response) {
				$.ajax({
					url: 'index.php?route=extension/shipping/novaposhta/autocomplete&user_token={{ user_token }}',
					type: 'POST',
					data: 'recipient_name=' + encodeURIComponent(request),
					dataType: 'json',
					beforeSend: function () {
						$('body').fadeTo('fast', 0.7).prepend('<div id="ocmax-loader" style="position: fixed; top: 50%;	left: 50%; z-index: 9999;"><i class="fa fa-clock-o fa-spin fa-3x fa-fw"></i></div>');
					},
					complete: function () {
						$('body').fadeTo('fast', 1);
						$('#ocmax-loader').remove();
					},
					success: function(json) {
						response($.map(json, function(item) {
							return {
								label: item['FullDescription'],
								value: item['Description'],
								ref: item['Ref']
							}
						}));
					}
				});
			},
			select: function(item) {
				$(this).val(item['value']);
				$(this).siblings('input[type="hidden"]').val(item['ref']);
			}
		});

		/* Departure description */
		$('#input-departure_description').autocomplete({
			source: function(request, response) {
				$.ajax({
					url: 'index.php?route=extension/shipping/novaposhta/autocomplete&user_token={{ user_token }}',
					type: 'POST',
					data: 'departure_description=' + encodeURIComponent(request),
					dataType: 'json',
					beforeSend: function () {
					},
					complete: function () {
					},
					success: function(json) {
						response($.map(json, function(item) {
							return {
								label: item['Description'],
								value: item['Description'],
							}
						}));
					}
				});
			},
			select: function(item) {
				$(this).val(item['value']);
			}
		});
	});
	//--></script>
{{ footer }}